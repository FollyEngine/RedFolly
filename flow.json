[
    {
        "id": "76e38cef.da2c54",
        "type": "tab",
        "label": "Megagame",
        "disabled": false,
        "info": ""
    },
    {
        "id": "95ecf648.5ae1c",
        "type": "tab",
        "label": "Testing",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ac951a93.256c18",
        "type": "tab",
        "label": "Void detector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8c5f11d4.d0087",
        "type": "tab",
        "label": "Forest",
        "disabled": false,
        "info": ""
    },
    {
        "id": "56184bd3.61c48c",
        "type": "tab",
        "label": "Entity creator",
        "disabled": false,
        "info": "used to define entites, what attributes they have\nand ohpefully how to edit them"
    },
    {
        "id": "68cc6e3.f67a09",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "68a0bd35.560a84",
        "type": "tab",
        "label": "Jars",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7ac82fd.18abfd",
        "type": "tab",
        "label": "Puzzle lock",
        "disabled": false,
        "info": ""
    },
    {
        "id": "25c34437.aa6314",
        "type": "tab",
        "label": "Countdown",
        "disabled": false,
        "info": ""
    },
    {
        "id": "43b6ad00.97d6d4",
        "type": "tab",
        "label": "Crickit test",
        "disabled": false,
        "info": "Sven's going to try to re-create the 1819 dueling podiums\nusing 2 crickit board's on rpi's\n\n"
    },
    {
        "id": "6d99db19.c577c4",
        "type": "tab",
        "label": "CodeLock",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ab1febba.03f0b8",
        "type": "tab",
        "label": "Totem",
        "disabled": false,
        "info": ""
    },
    {
        "id": "befd7418.87d0a8",
        "type": "tab",
        "label": "Unity AR",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e7cf18e0.b03f58",
        "type": "subflow",
        "name": "RFID read",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 942.5,
                "y": 427.3333435058594,
                "wires": [
                    {
                        "id": "d6462e3e.835878",
                        "port": 0
                    }
                ]
            }
        ],
        "env": []
    },
    {
        "id": "a2bcb00b.1e8078",
        "type": "subflow",
        "name": "Node status",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 1205,
                "y": 158,
                "wires": [
                    {
                        "id": "45e693b0.8f37bc",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1220,
                "y": 815,
                "wires": [
                    {
                        "id": "4c2d266c.61c02",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "StatusColour",
                "type": "str",
                "value": ""
            }
        ]
    },
    {
        "id": "2e99692c.076a7e",
        "type": "subflow",
        "name": "play sound",
        "info": "Play a sound on a specified node\n\ndefaults to play the test.wav on \"all\" nodes\n\nYou can set the \"node\" and \"sound\" on this node, \nor as input values on msg.node and msg.sound",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 98.00003051757812,
                "wires": [
                    {
                        "id": "2587690f.a69446"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "all"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "test.wav"
            }
        ]
    },
    {
        "id": "13b2145a.48d5ec",
        "type": "subflow",
        "name": "neopixels",
        "info": "### msg.payload.node\n - node name, or `all`\n### msg.payload.devicename\n - normally `neopixel-level` but can be set to `crickit` if talking to that board\n### msg.payload.operation\n - `set`\n - `health`\n - `colourwipe`\n - `theatrechase`\n - `rainbow` \n - `rainbow_cycle`\n### msg.payload.colour\n -  'off': (0,0,0),\n -  'white': (180,180,180),\n -  'red': (255,0,0),\n -  'green': (0,255,0),\n -  'blue': (0,0,255),\n -  'yellow': (255, 150, 0),\n -  'cyan': (0, 255,255),\n -  'purple': (180, 0, 255)\n### msg.payload.count\nhow many pixels to `set` or `health`",
        "category": "",
        "in": [
            {
                "x": 57,
                "y": 88,
                "wires": [
                    {
                        "id": "eaec1a89.76971"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "all"
            },
            {
                "name": "operation",
                "type": "str",
                "value": "set"
            },
            {
                "name": "colour",
                "type": "str",
                "value": "red"
            },
            {
                "name": "count",
                "type": "num",
                "value": "7"
            },
            {
                "name": "device",
                "type": "str",
                "value": "neopixel-level"
            }
        ]
    },
    {
        "id": "e4159f46.a12b",
        "type": "subflow",
        "name": "Speech Recognition",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 890,
                "y": 211,
                "wires": [
                    {
                        "id": "a26a693b.82c348",
                        "port": 0
                    }
                ]
            }
        ],
        "env": []
    },
    {
        "id": "fa3d25ac.e5f148",
        "type": "mqtt-broker",
        "z": "",
        "name": "mqtt.folly.site",
        "broker": "mqtt.thegame.folly.site",
        "port": "8883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "node-red-birth",
        "birthQos": "0",
        "birthRetain": "true",
        "birthPayload": "",
        "closeTopic": "node-red-close",
        "closeQos": "0",
        "closeRetain": "true",
        "closePayload": "",
        "willTopic": "node-red-oops",
        "willQos": "0",
        "willRetain": "true",
        "willPayload": ""
    },
    {
        "id": "cdef01bd.4b911",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#000000",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "true",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "66746000.f01c5",
        "type": "ui_tab",
        "z": "",
        "name": "Megagame",
        "icon": "fa-robot",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ff553633.808228",
        "type": "ui_group",
        "z": "",
        "name": "Touch",
        "tab": "fc6a7e4.ab81e",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "98bc3804.11c048",
        "type": "ui_group",
        "z": "",
        "name": "Form",
        "tab": "66746000.f01c5",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2d6890c2.17bdc",
        "type": "ui_group",
        "z": "",
        "name": "Event log",
        "tab": "66746000.f01c5",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9bca8c13.f41658",
        "type": "ui_group",
        "z": "",
        "name": "Tags database",
        "tab": "66746000.f01c5",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "cf464182.ea8b48",
        "type": "ui_group",
        "z": "",
        "name": "Nodes",
        "tab": "66746000.f01c5",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fd7b8427.2d2d7",
        "type": "ui_group",
        "z": "",
        "name": "Tag Read",
        "tab": "66746000.f01c5",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "82a69951.ff1f48",
        "type": "mongodb-config",
        "z": "",
        "hostname": "mongo",
        "port": "27017",
        "db": "local",
        "name": ""
    },
    {
        "id": "abfe76fc.26ead",
        "type": "ui_tab",
        "z": "",
        "name": "All Nodes",
        "icon": "home",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "fc6a7e4.ab81e",
        "type": "ui_tab",
        "z": "",
        "name": "Crickit-1",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "cdde7c2a.e59628",
        "type": "ui_group",
        "z": "",
        "name": "Settings",
        "tab": "66746000.f01c5",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4d353402.f708e4",
        "type": "ui_group",
        "z": "",
        "name": "Neopixels",
        "tab": "fc6a7e4.ab81e",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "cd20b0d7.0930d8",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "fc6a7e4.ab81e",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ed67316b.08a148",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "abfe76fc.26ead",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7c0edb98.923b7c",
        "type": "ui_tab",
        "z": "",
        "name": "Entities",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "231e1ad8.e5f4ae",
        "type": "ui_group",
        "z": "",
        "name": "List",
        "tab": "7c0edb98.923b7c",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a3da29b5.d71078",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Controls",
        "tab": "4bff639b.e041dc",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "1fa38067.626e",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Game",
        "tab": "4bff639b.e041dc",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "99ca804b.cd24c",
        "type": "ui_group",
        "z": "",
        "name": "Active Games",
        "tab": "4bff639b.e041dc",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4bff639b.e041dc",
        "type": "ui_tab",
        "z": "",
        "name": "CodeLock",
        "icon": "gamepad",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f66098d.97a68e8",
        "type": "ui_group",
        "z": "",
        "name": "Create",
        "tab": "7c0edb98.923b7c",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "94f997af.79b8d",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "7c0edb98.923b7c",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "49836066.dda19",
        "type": "ui_group",
        "z": "",
        "name": "mushroom",
        "tab": "fb5770b0.a24bf",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fb5770b0.a24bf",
        "type": "ui_tab",
        "z": "",
        "name": "Forest",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9cf8fddd.626a38",
        "type": "ui_group",
        "z": "",
        "name": "motors",
        "tab": "fb5770b0.a24bf",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "31275bd9.20d97c",
        "type": "ui_group",
        "z": "",
        "name": "touch",
        "tab": "fb5770b0.a24bf",
        "order": 3,
        "disp": true,
        "width": "9",
        "collapse": true
    },
    {
        "id": "3b2912cb.f335b6",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "fb5770b0.a24bf",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "919403e1.6784c",
        "type": "ui_group",
        "z": "",
        "name": "Audio",
        "tab": "fb5770b0.a24bf",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d80a0b31.9dc48",
        "type": "mqtt-broker",
        "z": "",
        "name": "mqtt.folly.site",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "node-red-birth",
        "birthQos": "0",
        "birthRetain": "true",
        "birthPayload": "",
        "closeTopic": "node-red-close",
        "closeQos": "0",
        "closeRetain": "true",
        "closePayload": "",
        "willTopic": "node-red-oops",
        "willQos": "0",
        "willRetain": "true",
        "willPayload": ""
    },
    {
        "id": "6ddacde4.8923dc",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#000000",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "true",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "ed185782.bd0178",
        "type": "ui_tab",
        "z": "",
        "name": "Megagame",
        "icon": "fa-robot",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6fa6790b.2dec78",
        "type": "ui_group",
        "z": "",
        "name": "Touch",
        "tab": "c484c773.561788",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "c3fc1a25.b1e808",
        "type": "ui_group",
        "z": "",
        "name": "Form",
        "tab": "ed185782.bd0178",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d8e39f1b.f79a9",
        "type": "ui_group",
        "z": "",
        "name": "Event log",
        "tab": "ed185782.bd0178",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5db0a8b9.c63c98",
        "type": "ui_group",
        "z": "",
        "name": "Tags database",
        "tab": "ed185782.bd0178",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "35e047bf.1dc18",
        "type": "ui_group",
        "z": "",
        "name": "Nodes",
        "tab": "ed185782.bd0178",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7b94d35d.ca4764",
        "type": "ui_group",
        "z": "",
        "name": "Tag Read",
        "tab": "ed185782.bd0178",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "60a15bd7.b87fd4",
        "type": "mongodb-config",
        "z": "",
        "hostname": "localhost",
        "port": "27017",
        "db": "local",
        "name": ""
    },
    {
        "id": "b715179a.45f5e8",
        "type": "ui_tab",
        "z": "",
        "name": "All Nodes",
        "icon": "home",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c484c773.561788",
        "type": "ui_tab",
        "z": "",
        "name": "Crickit-1",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "96bc3773.388758",
        "type": "ui_group",
        "z": "",
        "name": "Settings",
        "tab": "ed185782.bd0178",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ea4755ae.f06fb",
        "type": "ui_group",
        "z": "",
        "name": "Neopixels",
        "tab": "c484c773.561788",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "bc4d9763.bdadd",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "c484c773.561788",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7734b6a7.a6885",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "b715179a.45f5e8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a8a40de.a53667",
        "type": "ui_tab",
        "z": "",
        "name": "Entities",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e1e21f93.7d06f",
        "type": "ui_group",
        "z": "",
        "name": "List",
        "tab": "a8a40de.a53667",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "32eeb338.b0031c",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Controls",
        "tab": "86db0222.273a48",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9f20d2f.67f623",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Game",
        "tab": "86db0222.273a48",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "37d9cc0a.5e7104",
        "type": "ui_group",
        "z": "",
        "name": "Active Games",
        "tab": "86db0222.273a48",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "86db0222.273a48",
        "type": "ui_tab",
        "z": "",
        "name": "CodeLock",
        "icon": "gamepad",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4b84b688.ceb348",
        "type": "ui_group",
        "z": "",
        "name": "Create",
        "tab": "a8a40de.a53667",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "550d07c5.3a246",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "a8a40de.a53667",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4ed7bda7.9faa8c",
        "type": "ui_group",
        "z": "",
        "name": "mushroom",
        "tab": "ede808f7.19291",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ede808f7.19291",
        "type": "ui_tab",
        "z": "",
        "name": "Forest",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c62fb87f.2e6bd",
        "type": "ui_group",
        "z": "",
        "name": "motors",
        "tab": "ede808f7.19291",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "56d3f3ff.5b59fc",
        "type": "ui_group",
        "z": "",
        "name": "touch",
        "tab": "ede808f7.19291",
        "order": 3,
        "disp": true,
        "width": "9",
        "collapse": true
    },
    {
        "id": "d21a5c34.2965d",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "ede808f7.19291",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7d6dbce0.c1de9c",
        "type": "ui_group",
        "z": "",
        "name": "Audio",
        "tab": "ede808f7.19291",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "88db0783.7d0bf8",
        "type": "ui_group",
        "z": "",
        "name": "jar puzzle",
        "tab": "ede808f7.19291",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8f313a3c.9e2c2",
        "type": "mqtt-broker",
        "z": "",
        "name": "mqtt.folly.site",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "node-red-birth",
        "birthQos": "0",
        "birthRetain": "true",
        "birthPayload": "",
        "closeTopic": "node-red-close",
        "closeQos": "0",
        "closeRetain": "true",
        "closePayload": "",
        "willTopic": "node-red-oops",
        "willQos": "0",
        "willRetain": "true",
        "willPayload": ""
    },
    {
        "id": "367ad232.7d4006",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#000000",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "true",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "87fc79f.edb4388",
        "type": "ui_tab",
        "z": "",
        "name": "Megagame",
        "icon": "fa-robot",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "cd119580.fc126",
        "type": "ui_group",
        "z": "",
        "name": "Touch",
        "tab": "25b0fc19.c20d44",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "76f6e2e5.9ea4dc",
        "type": "ui_group",
        "z": "",
        "name": "Form",
        "tab": "87fc79f.edb4388",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "eea31b80.2b5378",
        "type": "ui_group",
        "z": "",
        "name": "Event log",
        "tab": "87fc79f.edb4388",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ecdb5f55.fb9658",
        "type": "ui_group",
        "z": "",
        "name": "Tags database",
        "tab": "87fc79f.edb4388",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "3ef2a061.c815f",
        "type": "ui_group",
        "z": "",
        "name": "Nodes",
        "tab": "87fc79f.edb4388",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a6944f71.4690e8",
        "type": "ui_group",
        "z": "",
        "name": "Tag Read",
        "tab": "87fc79f.edb4388",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "788cee09.d64d1",
        "type": "mongodb-config",
        "z": "",
        "hostname": "localhost",
        "port": "27017",
        "db": "local",
        "name": ""
    },
    {
        "id": "47d214a1.ceef24",
        "type": "ui_tab",
        "z": "",
        "name": "All Nodes",
        "icon": "home",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "dc071d3f.d1e088",
        "type": "ui_group",
        "z": "a2bcb00b.1e8078",
        "name": "Nodes",
        "tab": "47d214a1.ceef24",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": true
    },
    {
        "id": "25b0fc19.c20d44",
        "type": "ui_tab",
        "z": "",
        "name": "Crickit-1",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "671fa027.b00988",
        "type": "ui_group",
        "z": "",
        "name": "Settings",
        "tab": "87fc79f.edb4388",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "56387da8.27a554",
        "type": "ui_group",
        "z": "",
        "name": "Neopixels",
        "tab": "25b0fc19.c20d44",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "cc4552d.486e23",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "25b0fc19.c20d44",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c8cc8e55.076268",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "47d214a1.ceef24",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "1125a1ee.c5399e",
        "type": "ui_tab",
        "z": "",
        "name": "Entities",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "96fd9a5c.532f38",
        "type": "ui_group",
        "z": "",
        "name": "List",
        "tab": "1125a1ee.c5399e",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7e492dab.31e12c",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Controls",
        "tab": "bd31b0c8.8eb078",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b3cf511d.ea3898",
        "type": "ui_group",
        "z": "",
        "name": "ABCD Game",
        "tab": "bd31b0c8.8eb078",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ff88e6f9.aaa368",
        "type": "ui_group",
        "z": "",
        "name": "Active Games",
        "tab": "bd31b0c8.8eb078",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "bd31b0c8.8eb078",
        "type": "ui_tab",
        "z": "",
        "name": "CodeLock",
        "icon": "gamepad",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "47570ea5.be4f7",
        "type": "ui_group",
        "z": "",
        "name": "Create",
        "tab": "1125a1ee.c5399e",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "25c16085.919ed8",
        "type": "ui_group",
        "z": "",
        "name": "Configure",
        "tab": "1125a1ee.c5399e",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "892a7789.18fa48",
        "type": "ui_group",
        "z": "",
        "name": "mushroom",
        "tab": "27737880.ae866",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "27737880.ae866",
        "type": "ui_tab",
        "z": "",
        "name": "Forest",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5745a925.0d3ea",
        "type": "ui_group",
        "z": "",
        "name": "motors",
        "tab": "27737880.ae866",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "eceb2496.ca9fd8",
        "type": "ui_group",
        "z": "",
        "name": "touch",
        "tab": "27737880.ae866",
        "order": 3,
        "disp": true,
        "width": "9",
        "collapse": true
    },
    {
        "id": "a3ce7655.c9a408",
        "type": "ui_group",
        "z": "",
        "name": "Servos",
        "tab": "27737880.ae866",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "20202f7d.33c01",
        "type": "ui_group",
        "z": "",
        "name": "Audio",
        "tab": "27737880.ae866",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ce6dc5f2.b84948",
        "type": "ui_group",
        "z": "",
        "name": "jar puzzle",
        "tab": "27737880.ae866",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "718add45.9d065c",
        "type": "mqtt in",
        "z": "e7cf18e0.b03f58",
        "name": "",
        "topic": "+/rfid-nfc/scan",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 155,
        "y": 171,
        "wires": [
            [
                "a8683e37.d0ea4"
            ]
        ]
    },
    {
        "id": "a8683e37.d0ea4",
        "type": "json",
        "z": "e7cf18e0.b03f58",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 320,
        "y": 168,
        "wires": [
            [
                "d6462e3e.835878"
            ]
        ]
    },
    {
        "id": "d6462e3e.835878",
        "type": "switch",
        "z": "e7cf18e0.b03f58",
        "name": "RFID Tag Read",
        "property": "payload.event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "inserted",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 542.5,
        "y": 172.3333740234375,
        "wires": [
            []
        ]
    },
    {
        "id": "41e4b39b.c4641c",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "increase tag's counter",
        "func": "var t = msg.topic.split(\"/\")\nvar from = t[0]\n\nvar reader = msg.orig.reader;\nvar tag = msg.orig.tag;\n\nvar count = 0\nif (msg.payload.length > 0) {\n    count = msg.payload[0].count;\n    if (isNaN(count)) {\n        count = 0;\n    }\n}\nvar incrementor = flow.get('xp-incrementor') || \"\";\nvar decrementor = flow.get('xp-decrementor') || \"\";\nvar resetor = flow.get('xp-reset') || \"\";\nif (resetor === from) {\n    count = 0\n} else if (decrementor === from) {\n    count = count - 1;\n} else if (incrementor === from) {\n    count = count + 1;\n}\n\nmsg.payload = {\n    \"count\": count,\n    \"from\": from,\n    \"reader\": reader,\n    \"tag\": tag,\n    \"operation\": \"set\",\n    \"colour\": \"blue\",\n};\nmsg.topic = from+\"/neopixel-level/play\"\n\n// what we're storing\nvar updatedb = {\n    query: {\"tag\": tag}, \n    payload: msg.payload,\n    collection: \"tags\",\n}\n\nreturn [msg, updatedb];",
        "outputs": 2,
        "noerr": 0,
        "x": 790.5,
        "y": 63,
        "wires": [
            [
                "76591138.6448f8",
                "8759a0a5.29b618",
                "8d2e4c30.3b3ff8",
                "fc172ed0.cecfe8",
                "66b3c25.5c85a3c",
                "64943168.b3e098"
            ],
            [
                "7f93dc90.da31c4"
            ]
        ],
        "outputLabels": [
            "tagCount",
            "database"
        ]
    },
    {
        "id": "caafe481.abb7",
        "type": "catch",
        "z": "76e38cef.da2c54",
        "name": "",
        "scope": null,
        "x": 299.49998474121094,
        "y": 822.3333129882812,
        "wires": [
            [
                "9419db05.34d9"
            ]
        ]
    },
    {
        "id": "9419db05.34d9",
        "type": "debug",
        "z": "76e38cef.da2c54",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 428.5,
        "y": 826.6666259765625,
        "wires": []
    },
    {
        "id": "8759a0a5.29b618",
        "type": "mqtt out",
        "z": "76e38cef.da2c54",
        "name": "send to mqtt.thegame.folly.site",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1093.5,
        "y": 365.33331298828125,
        "wires": []
    },
    {
        "id": "7140fd34.95901c",
        "type": "subflow:e7cf18e0.b03f58",
        "z": "76e38cef.da2c54",
        "name": "RFID tag read",
        "env": [],
        "x": 213.25,
        "y": 73.16667938232422,
        "wires": [
            [
                "f6edc851.80cc18",
                "437ecf09.1e83f"
            ]
        ]
    },
    {
        "id": "76591138.6448f8",
        "type": "delay",
        "z": "76e38cef.da2c54",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1127.5,
        "y": 178,
        "wires": [
            [
                "5f100e29.a622d8"
            ]
        ]
    },
    {
        "id": "5f100e29.a622d8",
        "type": "change",
        "z": "76e38cef.da2c54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.colour",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1209.5,
        "y": 243,
        "wires": [
            [
                "8759a0a5.29b618"
            ]
        ]
    },
    {
        "id": "8d2e4c30.3b3ff8",
        "type": "ui_text",
        "z": "76e38cef.da2c54",
        "group": "a6944f71.4690e8",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "experience",
        "format": "{{msg.payload.count}}",
        "layout": "row-spread",
        "x": 1120.5,
        "y": 119.99999237060547,
        "wires": []
    },
    {
        "id": "fc172ed0.cecfe8",
        "type": "ui_text",
        "z": "76e38cef.da2c54",
        "group": "a6944f71.4690e8",
        "order": 2,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "tagid",
        "format": "{{msg.payload.tag}}",
        "layout": "row-spread",
        "x": 1096.5,
        "y": 83.99999237060547,
        "wires": []
    },
    {
        "id": "5427fa13.c78084",
        "type": "mqtt in",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "topic": "+/status/ping",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 215.00001525878906,
        "y": 182,
        "wires": [
            [
                "bd945932.820fa"
            ]
        ]
    },
    {
        "id": "bd945932.820fa",
        "type": "json",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 381,
        "y": 182,
        "wires": [
            [
                "5ed980f8.345d08"
            ]
        ]
    },
    {
        "id": "5ed980f8.345d08",
        "type": "switch",
        "z": "a2bcb00b.1e8078",
        "name": "Ping",
        "property": "payload.ping",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 555,
        "y": 182,
        "wires": [
            [
                "ffe15fcf.290438",
                "45e693b0.8f37bc"
            ]
        ]
    },
    {
        "id": "42660a17.a03f2c",
        "type": "ui_dropdown",
        "z": "76e38cef.da2c54",
        "name": "",
        "label": "Select flow status colour",
        "tooltip": "This will be passed on to the node status LED",
        "place": "Select option",
        "group": "671fa027.b00988",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 504.5,
        "y": 712,
        "wires": [
            [
                "5d9f6ebc.d529"
            ]
        ]
    },
    {
        "id": "5d9f6ebc.d529",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "set flow StatusColour - passed to rpi's status",
        "func": "\n\nflow.set('StatusColour', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 852,
        "y": 716,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "10cdf541.7b364b",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 171,
        "y": 147,
        "wires": [
            [
                "e47afe45.23c48",
                "91e5bbd6.651018"
            ]
        ]
    },
    {
        "id": "91e5bbd6.651018",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "if ((msg['payload']) % 2 == 0) {\n  msg['payload'] = 'even';\n} else {\n  msg['payload'] = 'odd';\n}\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"controls_if\" id=\"NTDBd@[8Q/h$qZy[U/8,\" x=\"13\" y=\"63\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_number_property\" id=\".kS~)TEWIZ*6uS!U]sbB\"><mutation divisor_input=\"false\"></mutation><field name=\"PROPERTY\">EVEN</field><value name=\"NUMBER_TO_CHECK\"><shadow type=\"math_number\" id=\"S*8w,C|d:k~*lm:}F9p?\"><field name=\"NUM\">0</field></shadow><block type=\"node_object_get\" id=\"kb[oA~t9@usoif;2WP2A\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"LWng+sRkl6E=W^P.(GTi\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"?xaQLfLuar01[.9;?j,0\"><field name=\"TEXT\">payload</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"node_object_set\" id=\"7vE8Npi=g[82^jS~oE)$\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"V4oR.s6]vcLSe?mP?USm\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"8n74Vh~x+V9O{9%sL9Gc\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"rlD@G61PM5grv8hb;M.7\"><field name=\"TEXT\">even</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"node_object_set\" id=\"j(19*mNu]8k3dGQ.K4xT\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"oX_fxcV6,eGrw!A|1RIj\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"zyuwfP3/_*lQ}mtU9HPu\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"sWT*_p4/ncY;DvuV:^jM\"><field name=\"TEXT\">odd</field></shadow></value></block></statement><next><block type=\"node_send\" id=\"oISuY02rni=nk_L{m{9w\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"Y8|,~0b1X@SnPK7hcScR\"></shadow></value></block></next></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 371.5,
        "y": 150,
        "wires": [
            [
                "22007055.bd12c8"
            ]
        ]
    },
    {
        "id": "22007055.bd12c8",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 615,
        "y": 156,
        "wires": []
    },
    {
        "id": "e47afe45.23c48",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 363,
        "y": 65,
        "wires": []
    },
    {
        "id": "f04857b6.a9046",
        "type": "ui_dropdown",
        "z": "76e38cef.da2c54",
        "name": "",
        "label": "XP add node",
        "tooltip": "The selected node will be the one that increases the XP",
        "place": "Select option",
        "group": "671fa027.b00988",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 1044,
        "y": 531,
        "wires": [
            [
                "27d2734a.8a8abc"
            ]
        ]
    },
    {
        "id": "27d2734a.8a8abc",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "set node chosen to be the incrementor",
        "func": "\n\nflow.set('xp-incrementor', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1310.5,
        "y": 535,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "8a07b2c2.ebc1c8",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "select the node to increment the XP",
        "func": "\nvar def = flow.get('xp-incrementor') || \"\";\n\nvar nodes = []\nfor (const x of msg.payload) {\n    nodes.push(x.name)\n}\n\nreturn {payload: def, options: nodes};",
        "outputs": 1,
        "noerr": 0,
        "x": 806,
        "y": 531,
        "wires": [
            [
                "f04857b6.a9046"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "66b3c25.5c85a3c",
        "type": "ui_text",
        "z": "76e38cef.da2c54",
        "group": "a6944f71.4690e8",
        "order": 1,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "from",
        "format": "{{msg.payload.from}}",
        "layout": "row-spread",
        "x": 1098,
        "y": 20,
        "wires": []
    },
    {
        "id": "59601e2a.21f578",
        "type": "mongodb-node",
        "z": "76e38cef.da2c54",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "nodes",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 477.7666015625,
        "y": 594.13330078125,
        "wires": [
            [
                "dda695f5.e7a0f8"
            ]
        ]
    },
    {
        "id": "433fe8d3.d5e088",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 168.7666778564453,
        "y": 641.583251953125,
        "wires": [
            [
                "aaeb67b8.876d2"
            ]
        ]
    },
    {
        "id": "dda695f5.e7a0f8",
        "type": "ui_template",
        "z": "76e38cef.da2c54",
        "group": "3ef2a061.c815f",
        "name": "NODES",
        "order": 0,
        "width": "6",
        "height": "10",
        "format": "<table width=\"100%\">\n <tr><td>node</td><td>ip</td><td>last seen</td></tr>\n <tr ng-repeat=\"(i, obj) in msg.payload\">\n   <td>{{obj.name}}</td>\n   <td>{{obj.ip}}</td>\n   <td>{{obj.timestring}}</td>\n </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 687.88330078125,
        "y": 595.88330078125,
        "wires": [
            []
        ]
    },
    {
        "id": "7f93dc90.da31c4",
        "type": "mongodb-node",
        "z": "76e38cef.da2c54",
        "mongodb": "788cee09.d64d1",
        "name": "update tag",
        "collection": "",
        "operation": "update",
        "upsert": true,
        "multi": false,
        "x": 780.88330078125,
        "y": 136.88333129882812,
        "wires": [
            []
        ]
    },
    {
        "id": "aaeb67b8.876d2",
        "type": "mongodb-node",
        "z": "76e38cef.da2c54",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "tags",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 385.88331604003906,
        "y": 642.88330078125,
        "wires": [
            [
                "852ac1d3.c3603"
            ]
        ]
    },
    {
        "id": "852ac1d3.c3603",
        "type": "ui_template",
        "z": "76e38cef.da2c54",
        "group": "ecdb5f55.fb9658",
        "name": "TAGS",
        "order": 1,
        "width": "6",
        "height": "10",
        "format": "<table width=\"100%\">\n <tr><td>node</td><td>reader</td><td>tagid</td><td>count</td></tr>\n <tr ng-repeat=\"(id, obj) in msg.payload\">\n   <td>{{obj.from}}</td>\n   <td>{{obj.reader}}</td>\n   <td>{{obj.tag}}</td>\n   <td>{{obj.count}}</td>\n   <td>\n     <md-button class=\"vibrate filled touched rounded fa fa-minus-circle\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({node: obj.name, button: \"minus\", payload: {{obj.count}}})'\n     target=\"_blank\">\n    </md-button> \n    {{obj.count}}\n     <md-button class=\"vibrate filled touched rounded fa fa-plus-circle\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({node: obj.name, button: \"plus\", payload: {{obj.count}}})'\n     target=\"_blank\">\n    </md-button> \n   </td>\n </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 607.8833160400391,
        "y": 640.88330078125,
        "wires": [
            []
        ]
    },
    {
        "id": "f6edc851.80cc18",
        "type": "change",
        "z": "76e38cef.da2c54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orig",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"tag\": $.payload.tag }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 392.76666259765625,
        "y": 73.56668090820312,
        "wires": [
            [
                "9937da58.508dc"
            ]
        ]
    },
    {
        "id": "9937da58.508dc",
        "type": "mongodb-node",
        "z": "76e38cef.da2c54",
        "mongodb": "788cee09.d64d1",
        "name": "get tag",
        "collection": "tags",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 566.7666015625,
        "y": 72.98332977294922,
        "wires": [
            [
                "41e4b39b.c4641c",
                "437ecf09.1e83f"
            ]
        ]
    },
    {
        "id": "4a707ddc.0c07f4",
        "type": "mongodb-node",
        "z": "a2bcb00b.1e8078",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "nodes",
        "operation": "update",
        "upsert": true,
        "multi": false,
        "x": 1037.2665405273438,
        "y": 234.26669311523438,
        "wires": [
            []
        ]
    },
    {
        "id": "ffe15fcf.290438",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "store node info",
        "func": "\n// what we're storing\nvar from = msg.payload.from\nvar now = new Date(Date.now())\nvar ip = msg.payload.ip || \"undef\"\nvar node = {\n    \"name\": from,\n    \"time\": now,\n    \"timestring\": now.toString(),\n    \"ip\": ip,\n    \"git_commit\": msg.payload.git_commit || \"unknown\"\n}\n\nreturn {query: {\"name\": from}, payload: node};\n",
        "outputs": 1,
        "noerr": 0,
        "x": 784.38330078125,
        "y": 232.01669311523438,
        "wires": [
            [
                "4a707ddc.0c07f4"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "c8139666.23738",
        "type": "comment",
        "z": "a2bcb00b.1e8078",
        "name": "Remote Node status",
        "info": "## All Nodes connected to this game server\n\nListens to Ping messages, and stores the node\ninfo in the database with the timestamp.\n\n### TODO\n\nAdd a Node management UI to select which flow a node belongs to\nthis selection can then be used to reduce the messages being output\nto only those for the flow its on...",
        "x": 141.50001525878906,
        "y": 34.46666717529297,
        "wires": []
    },
    {
        "id": "b15179ce.1bf818",
        "type": "ui_template",
        "z": "a2bcb00b.1e8078",
        "group": "dc071d3f.d1e088",
        "name": "ALLNODES",
        "order": 3,
        "width": "11",
        "height": "10",
        "format": "<table width=\"100%\">\n <tr><td>node</td><td>ip</td><td>last seen</td><td>git</td><td>config</td></tr>\n <tr ng-repeat=\"(i, obj) in msg.payload\">\n   <td>\n     <md-button class=\"vibrate filled touched bigfont rounded fa fa-search\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({node: obj.name, button: \"find\"})'\n     target=\"_blank\">\n    {{obj.name}}<br/>\n    </md-button> \n   </td>\n   <td>{{obj.ip}}</td>\n   <td>{{obj.timestring}}</td>\n   <td>\n     <md-button class=\"vibrate filled touched bigfont rounded fa fa-refresh\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({node: obj.name, button: \"git-update\"})'\n     target=\"_blank\">\n    </md-button>{{obj.git_commit}}\n   </td>\n   <td>\n     <md-button class=\"vibrate filled touched bigfont rounded fa fa-config\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({node: obj.name, button: \"configure\"})'\n     target=\"_blank\">\n    {{obj.name}}\n    </md-button>\n   </td>\n </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 545.2666015625,
        "y": 315.26666259765625,
        "wires": [
            [
                "377c8827.8e37c",
                "e95c3f04.107f2",
                "4b94cb4c.f7d5dc"
            ]
        ]
    },
    {
        "id": "199c344d.18e9fc",
        "type": "mongodb-node",
        "z": "a2bcb00b.1e8078",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "nodes",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 325.1499328613281,
        "y": 314.51666259765625,
        "wires": [
            [
                "b15179ce.1bf818"
            ]
        ]
    },
    {
        "id": "4babc4b7.fabc44",
        "type": "inject",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160.14996337890625,
        "y": 255.96661376953125,
        "wires": [
            [
                "199c344d.18e9fc"
            ]
        ]
    },
    {
        "id": "12f59ff1.ac4b5",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 115.00001525878906,
        "y": 593,
        "wires": [
            [
                "710cc901.c194d"
            ]
        ]
    },
    {
        "id": "710cc901.c194d",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "sort time desc",
        "func": "msg.sort = { \"time\": -1 }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 267.5,
        "y": 594,
        "wires": [
            [
                "59601e2a.21f578"
            ]
        ]
    },
    {
        "id": "64943168.b3e098",
        "type": "ui_text",
        "z": "76e38cef.da2c54",
        "group": "a6944f71.4690e8",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "reader",
        "format": "{{msg.payload.reader}}",
        "layout": "row-spread",
        "x": 1091.8333282470703,
        "y": 52,
        "wires": []
    },
    {
        "id": "72d1cab3.391d5c",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "function mathRandomInt(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\n\nglobal.set('Player1', ({ \"Name\": 'Wilderbrow', \"Health\": (Math.min(Math.max(mathRandomInt(1, 100), 1), 100)), \"Attack\": (mathRandomInt(1, 10)), \"Experience\": 0 }));\nmsg['payload'] = 'Player1';\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"$pv#Jpzs*^`V062i*~AI\" x=\"112\" y=\"38\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\";:hFP[i5uVE*_+H:,H[f\"></shadow><block type=\"node_global_memory\" id=\"xsY8;!d6jz/=LreQ1vBo\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"lwj=!60,1~-^*IhQPJR?\"><field name=\"TEXT\">Player1</field></shadow><block type=\"text\" id=\"]~$+qdT~^vRJwFs/M%L#\"><field name=\"TEXT\">Player1</field></block></value><value name=\"value_field\"><shadow type=\"text\" id=\"i/R?OlRK@EKht~0bVgg_\"><field name=\"TEXT\">Hello World</field></shadow><block type=\"object_create\" id=\"/U!Ew?2UCwkS/`l_-?}/\"><mutation num_fields=\"4\"><field name=\"Name\"></field><field name=\"Health\"></field><field name=\"Attack\"></field><field name=\"Experience\"></field></mutation><field name=\"field1\">Name</field><field name=\"field2\">Health</field><field name=\"field3\">Attack</field><field name=\"field4\">Experience</field><value name=\"field_input1\"><block type=\"text\" id=\"(^2a[)M+/{T9B9N}c(,n\"><field name=\"TEXT\">Wilderbrow</field></block></value><value name=\"field_input2\"><block type=\"math_constrain\" id=\"R_u);c-tOz~28W^.`rJN\"><value name=\"VALUE\"><shadow type=\"math_number\" id=\"P6PWbIO+9q-:S:_?^!(:\"><field name=\"NUM\">75</field></shadow><block type=\"math_random_int\" id=\"1Q_AHpixHv@do$@F|jj4\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"R_mc7A;rxkj7u*~RpEX%\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"`xLMC3t5UyVA}}`;0UT{\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"LOW\"><shadow type=\"math_number\" id=\":_Q8-Lp{7V?Rtf$zmg%[\"><field name=\"NUM\">1</field></shadow></value><value name=\"HIGH\"><shadow type=\"math_number\" id=\"f?};eH{xkfy8F{v-8:j=\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"field_input3\"><block type=\"math_random_int\" id=\"a#0fO]~DiUg]]zaBQ9t!\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"%)gC):H1IDWZ!HhSTmPb\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"3^8;NDQCFi^PtOOxoxC;\"><field name=\"NUM\">10</field></shadow></value></block></value><value name=\"field_input4\"><block type=\"math_number\" id=\"Rnh]#vL4M~C~2*]2~XF:\"><field name=\"NUM\">0</field></block></value></block></value><next><block type=\"node_object_set\" id=\"`}qciF@Xwd11HY~0Ai-1\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"JWS}V;pB]^F^$|7@sm]B\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"#L9UVDmy@2~nsnt~/PW#\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"P:q=|22W`Rxu)2Q*Z?+B\"><field name=\"TEXT\"></field></shadow><block type=\"text\" id=\"zOa~X8YdzF-7}_|P$~:#\"><field name=\"TEXT\">Player1</field></block></value><next><block type=\"node_send\" id=\"IVx8hEh.td7wr{Osw}GO\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"SV2H^wp(pB~,YTT!Xc=l\"></shadow></value></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "Character Gen",
        "x": 449.50000762939453,
        "y": 319.00000381469727,
        "wires": [
            []
        ]
    },
    {
        "id": "7f2d1120.0bc14",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 158.0999984741211,
        "y": 467.00000381469727,
        "wires": [
            [
                "1c690bf7.990084"
            ]
        ]
    },
    {
        "id": "b0c57263.ce1ba8",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1202.1000137329102,
        "y": 305.0000057220459,
        "wires": []
    },
    {
        "id": "c1b4f498.60f93",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "function mathRandomInt(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\n\nglobal.set('Player2', ({ \"Name\": 'Brow', \"Health\": (Math.min(Math.max(mathRandomInt(1, 100), 1), 100)), \"Attack\": (mathRandomInt(1, 10)), \"Experience\": 0 }));\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"$pv#Jpzs*^`V062i*~AI\" x=\"187\" y=\"63\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\";:hFP[i5uVE*_+H:,H[f\"></shadow><block type=\"node_global_memory\" id=\"`26dVGU$,J6s0/LobiO-\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"lwj=!60,1~-^*IhQPJR?\"><field name=\"TEXT\">Player2</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"i/R?OlRK@EKht~0bVgg_\"><field name=\"TEXT\">Hello World</field></shadow><block type=\"object_create\" id=\"/U!Ew?2UCwkS/`l_-?}/\"><mutation num_fields=\"4\"><field name=\"Name\"></field><field name=\"Health\"></field><field name=\"Attack\"></field><field name=\"Experience\"></field></mutation><field name=\"field1\">Name</field><field name=\"field2\">Health</field><field name=\"field3\">Attack</field><field name=\"field4\">Experience</field><value name=\"field_input1\"><block type=\"text\" id=\"(^2a[)M+/{T9B9N}c(,n\"><field name=\"TEXT\">Brow</field></block></value><value name=\"field_input2\"><block type=\"math_constrain\" id=\"R_u);c-tOz~28W^.`rJN\"><value name=\"VALUE\"><shadow type=\"math_number\" id=\"P6PWbIO+9q-:S:_?^!(:\"><field name=\"NUM\">75</field></shadow><block type=\"math_random_int\" id=\"1Q_AHpixHv@do$@F|jj4\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"R_mc7A;rxkj7u*~RpEX%\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"`xLMC3t5UyVA}}`;0UT{\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"LOW\"><shadow type=\"math_number\" id=\":_Q8-Lp{7V?Rtf$zmg%[\"><field name=\"NUM\">1</field></shadow></value><value name=\"HIGH\"><shadow type=\"math_number\" id=\"f?};eH{xkfy8F{v-8:j=\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"field_input3\"><block type=\"math_random_int\" id=\"a#0fO]~DiUg]]zaBQ9t!\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"%)gC):H1IDWZ!HhSTmPb\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"3^8;NDQCFi^PtOOxoxC;\"><field name=\"NUM\">10</field></shadow></value></block></value><value name=\"field_input4\"><block type=\"math_number\" id=\"Rnh]#vL4M~C~2*]2~XF:\"><field name=\"NUM\">0</field></block></value></block></value><next><block type=\"node_send\" id=\"IVx8hEh.td7wr{Osw}GO\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"SV2H^wp(pB~,YTT!Xc=l\"></shadow></value></block></next></block></xml>",
        "outputs": 1,
        "name": "Character Gen2",
        "x": 437.00000762939453,
        "y": 373.0000057220459,
        "wires": [
            []
        ]
    },
    {
        "id": "64b96d87.635ffc",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var Player_Health, random_attack;\n\nfunction mathRandomInt(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\n\nPlayer_Health = (msg['Health']);\nrandom_attack = mathRandomInt(100, 200);\nif (random_attack > Player_Health) {\n  msg['health'] = (Player_Health - 10);\n}\nreturn msg;\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"RZCf}2vU!~f#S!fh1ALZ\">Player Health</variable><variable type=\"\" id=\"r8)ZXWEhzs%)VXb4QcS.\">random attack</variable></variables><block type=\"variables_set\" id=\"4b2b(Vcgh9s39SGuiA`X\" x=\"62\" y=\"-12\"><field name=\"VAR\" id=\"RZCf}2vU!~f#S!fh1ALZ\" variabletype=\"\">Player Health</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"9E$5o,RuoH53J~T6MPP,\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"$[Af**y%:%4uXt.).%Sr\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"02_@o4Z0IA15`b8npxvZ\"><field name=\"TEXT\">Health</field></shadow></value></block></value><next><block type=\"variables_set\" id=\"DZ30sM!RvH]^j3XHu@]Z\"><field name=\"VAR\" id=\"r8)ZXWEhzs%)VXb4QcS.\" variabletype=\"\">random attack</field><value name=\"VALUE\"><block type=\"math_random_int\" id=\"H%dk[YpVILRI8iYgb4P/\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"L=~q9GXfT$hn^_|@Ixn,\"><field name=\"NUM\">100</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"u8?#}jF3Cn$FYp-0^66f\"><field name=\"NUM\">200</field></shadow></value></block></value><next><block type=\"controls_if\" id=\"Mhwbwl[VuQqwb;vt+eoO\"><value name=\"IF0\"><block type=\"logic_compare\" id=\",}t+rD(t_R?AF|ic;jiW\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"[2e#iqG8ByGGs~_tpKS|\"><field name=\"VAR\" id=\"r8)ZXWEhzs%)VXb4QcS.\" variabletype=\"\">random attack</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"Zz!bbtDhuu{Qa|gq|~b@\"><field name=\"VAR\" id=\"RZCf}2vU!~f#S!fh1ALZ\" variabletype=\"\">Player Health</field></block></value></block></value><statement name=\"DO0\"><block type=\"node_object_set\" id=\"Kcmby;pTn=f_q_i2K7,i\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"hh%o}#xP=GLij^_.U5Ef\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"N?z/d=O$i(d$)A6rRB1,\"><field name=\"TEXT\">health</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"0WC]x}}k_Xt;/N0X$G``\"><field name=\"TEXT\"></field></shadow><block type=\"math_arithmetic\" id=\"UoAI;L^}pa*S-{RK[`[q\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"?G+.[TMSa]]lF21PRtAM\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"@K|0,Mho]?LNHoQQtX#=\"><field name=\"VAR\" id=\"RZCf}2vU!~f#S!fh1ALZ\" variabletype=\"\">Player Health</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"T+exu=hT:ICT-(x@jv3}\"><field name=\"NUM\">10</field></shadow></value></block></value></block></statement><next><block type=\"node_return_message\" id=\"ZPx`28Oi%mZr!e0)9!DE\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"pKG9ZdEUpb=x)o$e7t`E\"></shadow></value></block></next></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "Attacked",
        "x": 957.1000137329102,
        "y": 274.00000381469727,
        "wires": [
            [
                "b0c57263.ce1ba8"
            ]
        ]
    },
    {
        "id": "1ccca321.ed124d",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "",
        "topic": "",
        "payload": "state",
        "payloadType": "global",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 722.1000595092773,
        "y": 310.00000381469727,
        "wires": [
            [
                "fb7f98b6.4a8678"
            ]
        ]
    },
    {
        "id": "fb7f98b6.4a8678",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "function mathRandomInt(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\n\nmsg['payload'] = ({ \"Name\": 'Wilderbrow', \"Health\": (Math.min(Math.max(mathRandomInt(1, 100), 1), 100)), \"Attack\": (mathRandomInt(1, 10)), \"Experience\": 0 });\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"$pv#Jpzs*^`V062i*~AI\" x=\"87\" y=\"38\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\";:hFP[i5uVE*_+H:,H[f\"></shadow><block type=\"node_msg\" id=\"Qt2Cz1Rpw=:-Qpyroy4P\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"lwj=!60,1~-^*IhQPJR?\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"i/R?OlRK@EKht~0bVgg_\"><field name=\"TEXT\">Hello World</field></shadow><block type=\"object_create\" id=\"/U!Ew?2UCwkS/`l_-?}/\"><mutation num_fields=\"4\"><field name=\"Name\"></field><field name=\"Health\"></field><field name=\"Attack\"></field><field name=\"Experience\"></field></mutation><field name=\"field1\">Name</field><field name=\"field2\">Health</field><field name=\"field3\">Attack</field><field name=\"field4\">Experience</field><value name=\"field_input1\"><block type=\"text\" id=\"(^2a[)M+/{T9B9N}c(,n\"><field name=\"TEXT\">Wilderbrow</field></block></value><value name=\"field_input2\"><block type=\"math_constrain\" id=\"R_u);c-tOz~28W^.`rJN\"><value name=\"VALUE\"><shadow type=\"math_number\" id=\"P6PWbIO+9q-:S:_?^!(:\"><field name=\"NUM\">75</field></shadow><block type=\"math_random_int\" id=\"1Q_AHpixHv@do$@F|jj4\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"R_mc7A;rxkj7u*~RpEX%\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"`xLMC3t5UyVA}}`;0UT{\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"LOW\"><shadow type=\"math_number\" id=\":_Q8-Lp{7V?Rtf$zmg%[\"><field name=\"NUM\">1</field></shadow></value><value name=\"HIGH\"><shadow type=\"math_number\" id=\"f?};eH{xkfy8F{v-8:j=\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"field_input3\"><block type=\"math_random_int\" id=\"a#0fO]~DiUg]]zaBQ9t!\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"%)gC):H1IDWZ!HhSTmPb\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"3^8;NDQCFi^PtOOxoxC;\"><field name=\"NUM\">10</field></shadow></value></block></value><value name=\"field_input4\"><block type=\"math_number\" id=\"Rnh]#vL4M~C~2*]2~XF:\"><field name=\"NUM\">0</field></block></value></block></value><next><block type=\"node_send\" id=\"IVx8hEh.td7wr{Osw}GO\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"SV2H^wp(pB~,YTT!Xc=l\"></shadow></value></block></next></block></xml>",
        "outputs": 1,
        "name": "Character Gen",
        "x": 907.0000152587891,
        "y": 403.0000057220459,
        "wires": [
            [
                "b0c57263.ce1ba8",
                "73a21e37.21bf1",
                "6cc46d3.c973a94"
            ]
        ]
    },
    {
        "id": "73a21e37.21bf1",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "msg['payload']['Health'] = 'Dead';\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"iIdB|?Dnx}?.klIW|HnR\" x=\"188\" y=\"87\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"@yZg]Mh;JK24fW=!Cnr,\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"3kwKmFSH?Bi}lyPTaX`b\"><field name=\"TEXT\">payload.Health</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"IG-nE+*g6Rx%[tWv0x2o\"><field name=\"TEXT\">Dead</field></shadow></value><next><block type=\"node_send\" id=\"35[$[D0wTs)u6JQ(axVS\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"Oiclg;lPfRMCaa64K48{\"></shadow></value></block></next></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 1103.0999755859375,
        "y": 467,
        "wires": [
            []
        ]
    },
    {
        "id": "e568cfc9.a2d42",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "Progress",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 637.1000366210938,
        "y": 479,
        "wires": []
    },
    {
        "id": "1c690bf7.990084",
        "type": "change",
        "z": "95ecf648.5ae1c",
        "name": "Progress",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 404.1000061035156,
        "y": 477.00000762939453,
        "wires": [
            [
                "e568cfc9.a2d42"
            ]
        ]
    },
    {
        "id": "1d031973.b74c07",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1469.1000175476074,
        "y": 357.00000953674316,
        "wires": []
    },
    {
        "id": "6cc46d3.c973a94",
        "type": "change",
        "z": "95ecf648.5ae1c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.health",
                "pt": "msg",
                "to": "(payload.health-10)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1217.1000137329102,
        "y": 379.00000953674316,
        "wires": [
            [
                "1d031973.b74c07"
            ]
        ]
    },
    {
        "id": "1ec96a39.492c8e",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "Fn",
        "func": "var state = msg.payload;\n\nvar payload;\n\nswitch(state)\n{\n    case \"A\" : payload = 1;\n    break;\n    \n    case \"B\" : payload = 2;\n    break;\n    \n    case \"C\" : payload = 3;\n    break;\n    \n    case \"D\" : payload = 4;\n    break;\n}\n\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 890.0000114440918,
        "y": 223.00000381469727,
        "wires": [
            [
                "9dcd938.7fe017"
            ]
        ]
    },
    {
        "id": "6caecbcc.307bc4",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "A",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 574,
        "y": 137,
        "wires": [
            [
                "1ec96a39.492c8e"
            ]
        ]
    },
    {
        "id": "32367e1e.60aefa",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "B",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 575,
        "y": 204,
        "wires": [
            [
                "1ec96a39.492c8e"
            ]
        ]
    },
    {
        "id": "bc2e68df.285fa8",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "C",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 559.0000076293945,
        "y": 280.00000381469727,
        "wires": [
            [
                "1ec96a39.492c8e"
            ]
        ]
    },
    {
        "id": "58622068.dc7948",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "D",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 569,
        "y": 356,
        "wires": [
            [
                "1ec96a39.492c8e"
            ]
        ]
    },
    {
        "id": "9dcd938.7fe017",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1258,
        "y": 225,
        "wires": []
    },
    {
        "id": "e5456df4.f46188",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "99",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 570,
        "y": 486,
        "wires": [
            [
                "29791ec6.704e42"
            ]
        ]
    },
    {
        "id": "2e36f4da.84d514",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "99",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 571,
        "y": 542,
        "wires": [
            [
                "ca32c0c2.225828"
            ]
        ]
    },
    {
        "id": "29791ec6.704e42",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "+1",
        "func": "msg.payload = msg.payload+1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 942,
        "y": 476,
        "wires": [
            [
                "2765625e.fe267e"
            ]
        ]
    },
    {
        "id": "95b0cbe7.36fb18",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "+1",
        "func": "msg.payload = msg.payload+1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 944,
        "y": 537,
        "wires": [
            [
                "c75fdf41.28964"
            ]
        ]
    },
    {
        "id": "ca32c0c2.225828",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "parseFloat",
        "func": "msg.payload = parseFloat(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 752,
        "y": 541,
        "wires": [
            [
                "95b0cbe7.36fb18"
            ]
        ]
    },
    {
        "id": "2765625e.fe267e",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1249,
        "y": 478,
        "wires": []
    },
    {
        "id": "c75fdf41.28964",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1246,
        "y": 539,
        "wires": []
    },
    {
        "id": "8db3e9c1.d68018",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab1-2 : Payload Type",
        "info": "",
        "x": 540,
        "y": 432,
        "wires": []
    },
    {
        "id": "276b04d1.55a0d4",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab1-1 : Use Function",
        "info": "",
        "x": 550,
        "y": 77,
        "wires": []
    },
    {
        "id": "78e02a84.f416cc",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1241,
        "y": 996,
        "wires": []
    },
    {
        "id": "fa2a7768.76fca8",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "High",
        "func": "msg.payload =\"High\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 979,
        "y": 1031,
        "wires": [
            [
                "78e02a84.f416cc"
            ]
        ]
    },
    {
        "id": "4e9c603b.976888",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "Low",
        "func": "msg.payload = \"Low\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 979,
        "y": 971,
        "wires": [
            [
                "78e02a84.f416cc"
            ]
        ]
    },
    {
        "id": "28fd7691.6f0bca",
        "type": "switch",
        "z": "68cc6e3.f67a09",
        "name": ">10",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "10",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 794,
        "y": 1003,
        "wires": [
            [
                "4e9c603b.976888"
            ],
            [
                "fa2a7768.76fca8"
            ]
        ]
    },
    {
        "id": "80aa3dae.c6d",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "15",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 562,
        "y": 1042,
        "wires": [
            [
                "28fd7691.6f0bca"
            ]
        ]
    },
    {
        "id": "107f8f45.1dd8c9",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 566,
        "y": 983,
        "wires": [
            [
                "28fd7691.6f0bca"
            ]
        ]
    },
    {
        "id": "b7a5001b.0ce77",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 3 : Number",
        "info": "",
        "x": 532,
        "y": 919,
        "wires": []
    },
    {
        "id": "d188499f.0e98c8",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 4 : Delay",
        "info": "",
        "x": 521,
        "y": 1143.9999389648438,
        "wires": []
    },
    {
        "id": "27dc049b.f8b124",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "Delay",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 571.3402709960938,
        "y": 1232,
        "wires": [
            [
                "29f1dc76.e30554"
            ]
        ]
    },
    {
        "id": "29f1dc76.e30554",
        "type": "delay",
        "z": "68cc6e3.f67a09",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 845,
        "y": 1231.9998168945312,
        "wires": [
            [
                "541da06b.02d958"
            ]
        ]
    },
    {
        "id": "541da06b.02d958",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1243.3402709960938,
        "y": 1227.9999389648438,
        "wires": []
    },
    {
        "id": "67f0e218.01175c",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 6 : Repeat",
        "info": "",
        "x": 527.7847137451172,
        "y": 1306.4444580078125,
        "wires": []
    },
    {
        "id": "4c8fa449.3bbd24",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "x": 578.7847137451172,
        "y": 1375.4444580078125,
        "wires": [
            [
                "196724.1bcf80dd"
            ]
        ]
    },
    {
        "id": "196724.1bcf80dd",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 1248.000015258789,
        "y": 1376,
        "wires": []
    },
    {
        "id": "91528b68.44fbd",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 5 : Context",
        "info": "",
        "x": 524.7847137451172,
        "y": 1442.1109619140625,
        "wires": []
    },
    {
        "id": "dc10e364.4237f",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "Button",
        "payload": " ",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 557.7847137451172,
        "y": 1506.4444580078125,
        "wires": [
            [
                "1cfad05e.384c98"
            ]
        ]
    },
    {
        "id": "1cfad05e.384c98",
        "type": "function",
        "z": "68cc6e3.f67a09",
        "name": "Context",
        "func": "\nvar count = context.count || 0;\n\ncount += 1;\n\ncontext.count = count;\n\nmsg.payload = \"Count : \"+ context.count;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 870.7153472900391,
        "y": 1508.263916015625,
        "wires": [
            [
                "92c98bdf.e09ce8"
            ]
        ]
    },
    {
        "id": "92c98bdf.e09ce8",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 1254.7847442626953,
        "y": 1507.888916015625,
        "wires": []
    },
    {
        "id": "1fcbd8d9.96659f",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 6 : Storage",
        "info": "",
        "x": 524.8958282470703,
        "y": 1581.2222900390625,
        "wires": []
    },
    {
        "id": "9cf91501.d66a2",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 562.9999389648438,
        "y": 1626.9998779296875,
        "wires": [
            [
                "b7525dd.0be59a"
            ]
        ]
    },
    {
        "id": "b7525dd.0be59a",
        "type": "file",
        "z": "68cc6e3.f67a09",
        "name": "",
        "filename": "/Users/Lab3/out.txt",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "x": 1281.9999237060547,
        "y": 1631.9998779296875,
        "wires": [
            []
        ]
    },
    {
        "id": "e089a6fb.cd0c78",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 7-1 : Send Http Get ",
        "info": "",
        "x": 549.8958282470703,
        "y": 1694.2222900390625,
        "wires": []
    },
    {
        "id": "c6721a31.fdff98",
        "type": "inject",
        "z": "68cc6e3.f67a09",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 562,
        "y": 1765,
        "wires": [
            [
                "660c1bf2.2f412c"
            ]
        ]
    },
    {
        "id": "660c1bf2.2f412c",
        "type": "http request",
        "z": "68cc6e3.f67a09",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.espert.io/MySmartphone/send?key=XXXX&message={{{payload}}}",
        "tls": "",
        "x": 1264.0000457763672,
        "y": 1759.9998779296875,
        "wires": [
            []
        ]
    },
    {
        "id": "b8093c27.4f5318",
        "type": "debug",
        "z": "68cc6e3.f67a09",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1264.8957977294922,
        "y": 1901.2222900390625,
        "wires": []
    },
    {
        "id": "57d0cadf.061774",
        "type": "http request",
        "z": "68cc6e3.f67a09",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.espert.io/MySmartphone/send?key=XXXX&message=TOO_HOT",
        "tls": "",
        "x": 561.0000305175781,
        "y": 1895.9998779296875,
        "wires": [
            [
                "b8093c27.4f5318"
            ]
        ]
    },
    {
        "id": "bc085778.b59958",
        "type": "comment",
        "z": "68cc6e3.f67a09",
        "name": "Lab 7-2 : Get Http Get ",
        "info": "",
        "x": 535.8958282470703,
        "y": 1830.5556640625,
        "wires": []
    },
    {
        "id": "cf6d766a.89e19",
        "type": "debug",
        "z": "7ac82fd.18abfd",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 761,
        "y": 343.00000381469727,
        "wires": []
    },
    {
        "id": "587f8a47.2621bc",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "var success, input, Order;\n\n\nsuccess = false;\ninput = (msg['payload']);\nOrder = (global.get('puzzleorder')) + input;\nif (Order == '0ABCD') {\n  success = true;\n}\nif (Order == '0A') {\n  global.set('puzzleorder', Order);\n} else if (Order == '0AB') {\n  global.set('puzzleorder', Order);\n} else if (Order == '0ABC') {\n  global.set('puzzleorder', Order);\n} else if (Order == '0ABCD') {\n  global.set('puzzleorder', Order);\n} else {\n  global.set('puzzleorder', '0');\n}\nmsg['payload'] = Order;\nif (success == true) {\n  msg['payload'] = success;\n}\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"Qf;P.ol_%Q]}gbPyTS6e\">success</variable><variable type=\"\" id=\"Bx3JiJ49Q9X8AR7h4e%y\">input</variable><variable type=\"\" id=\"*B!C++ogeY8Lr|=~ncbr\">Order</variable></variables><block type=\"variables_set\" id=\"D*kKZFMgugemu`m6p=(L\" x=\"112\" y=\"37\"><field name=\"VAR\" id=\"Qf;P.ol_%Q]}gbPyTS6e\" variabletype=\"\">success</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"*U;Gxs8ZseV[~mAc+$Ob\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\")0[1QvZeOdKa~Wh9,nSL\"><field name=\"VAR\" id=\"Bx3JiJ49Q9X8AR7h4e%y\" variabletype=\"\">input</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"kRKA@)X_%{jw1!Gg.P~=\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"F[x|~,|d$H+[sct`z{X+\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"^P$SPVXvwCk9S;g^-][)\"><field name=\"TEXT\">payload</field></shadow></value></block></value><next><block type=\"variables_set\" id=\"5b?21?zM@L9+41drFCB!\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"M6q$u*Rfn7@jlB;T/oQ4\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D`@=7-}n7giK*o|*A?N#\"><field name=\"NUM\">1</field></shadow><block type=\"node_object_get\" id=\"z_C:KA)8|Z6XK=0qsp{E\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"tG5a_cru~1)5]W6yX|6f\"></shadow><block type=\"node_global_memory\" id=\"rOW-@~y8,M6VLyzL:fu=\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"1VUWE?|zo,KdO,XVN1?M\"><field name=\"TEXT\">puzzleorder</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"v7QtqJ}!Eqs54vh`in9u\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"j]p68,mNlsCxUb5,=C(i\"><field name=\"VAR\" id=\"Bx3JiJ49Q9X8AR7h4e%y\" variabletype=\"\">input</field></block></value></block></value><next><block type=\"controls_if\" id=\"TlqI]HfoWuc=K8[oIjM[\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"W.RyJPTRB.rE/b57n|e}\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"L)`BHnE?{#(qN{BVoy?#\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><value name=\"B\"><block type=\"text\" id=\"pE22E!1L^E;K=9pSyK8y\"><field name=\"TEXT\">0ABCD</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"-S.gr^%V*:N8!~PO`I+/\"><field name=\"VAR\" id=\"Qf;P.ol_%Q]}gbPyTS6e\" variabletype=\"\">success</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"cwIebdS!,![%rAjoH[9k\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\" id=\"sP-!~f-4XpsHZpA2Wq5!\"><mutation elseif=\"3\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"9^o!Hl?Zl2N%D0Ed?W.b\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"cdj0pYW$|VgFL*-YR#$=\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><value name=\"B\"><block type=\"text\" id=\"A2Un:7}0^^~,@oEgVV=y\"><field name=\"TEXT\">0A</field></block></value></block></value><statement name=\"DO0\"><block type=\"node_object_set\" id=\"-k3E+Byrd4fnXBR?lYQs\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"v]__Fk}+K_XB?m|cb)c%\"></shadow><block type=\"node_global_memory\" id=\"825cX$5onx_g+EhwljC*\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"9}oG~JD(wVe#[SLsp)`8\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"P1DeO=7xcrFuYvLQ)ly7\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"=my^;*n)BV*S/NA,mNHk\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"}b=nF`/t7|0ZNoqG^?51\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"q;Q(_+WZ6KmOV$HrQk-u\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><value name=\"B\"><block type=\"text\" id=\"E)VGN_C!En4HhuXkn.}6\"><field name=\"TEXT\">0AB</field></block></value></block></value><statement name=\"DO1\"><block type=\"node_object_set\" id=\"95n^Hv77r{8yb1qRs]@?\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"v]__Fk}+K_XB?m|cb)c%\"></shadow><block type=\"node_global_memory\" id=\"G+-NgNm9!_vok)ut;[!f\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"euXea7.$ppaB,,~[NSq@\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"P1DeO=7xcrFuYvLQ)ly7\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"!^D`~.d=F80UOkNY^S$W\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"Y(I}S5SCCVv^}8`c,amu\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"1`.8XUw:NteXnG/izFKk\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><value name=\"B\"><block type=\"text\" id=\"I2HA.7/T;H/q*C[Hv@:M\"><field name=\"TEXT\">0ABC</field></block></value></block></value><statement name=\"DO2\"><block type=\"node_object_set\" id=\"4uroAg;pLPl3}EP[l@30\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"v]__Fk}+K_XB?m|cb)c%\"></shadow><block type=\"node_global_memory\" id=\"bf|TRn+([9)L:8e30Euo\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"fX.PMcr2M/*Mt4~I*tAG\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"P1DeO=7xcrFuYvLQ)ly7\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"~:-btfDS`8z-9/m*VV;Z\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\".GF=[;|Y8cgOwW@aEWc3\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"6)bp`c:,gWN)ppK^R(k7\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><value name=\"B\"><block type=\"text\" id=\"YT;}s16P$5|%pp91*IAQ\"><field name=\"TEXT\">0ABCD</field></block></value></block></value><statement name=\"DO3\"><block type=\"node_object_set\" id=\"oU-d3yGa4oL:qpRvqNQ{\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"v]__Fk}+K_XB?m|cb)c%\"></shadow><block type=\"node_global_memory\" id=\"C@FK?uUe;#*7Dg$seYSI\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\";Rvw2@D+KxkPq)h[=hfo\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"P1DeO=7xcrFuYvLQ)ly7\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"n$+CmlA:e{;fNPpXA%O~\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"node_object_set\" id=\"kFl-E|?6I[*{V+:j*=WS\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"Gf~Zw8vo^ZeX3y^,=Ca_\"></shadow><block type=\"node_global_memory\" id=\"qbWrTn=Ymq!lG:C/a}T#\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"VLSX~UqOO.`dEC{F`$Mj\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"Zz3sn`NGGqKssxax15+D\"><field name=\"TEXT\">0</field></shadow></value></block></statement><next><block type=\"node_object_set\" id=\"6#4TqYem#6P*?@7xbA!`\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"xnfHVBqOiv*$a)-h^5/r\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"S~mV=X=j#+RPaOObbHj.\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"(va-18D0.1J:]VrjH*fP\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"d?6ej.,PI$6SKJqE9`UH\"><field name=\"VAR\" id=\"*B!C++ogeY8Lr|=~ncbr\" variabletype=\"\">Order</field></block></value><next><block type=\"controls_if\" id=\")BL^#dtQ,0r9wFqYBO9F\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"%$6@;oBLR3Hcm9F5qZ`v\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\":$b~5h]!T5V4^}H{u19(\"><field name=\"VAR\" id=\"Qf;P.ol_%Q]}gbPyTS6e\" variabletype=\"\">success</field></block></value><value name=\"B\"><block type=\"logic_boolean\" id=\".#QUCD_|].IN(#Hv?(m_\"><field name=\"BOOL\">TRUE</field></block></value></block></value><statement name=\"DO0\"><block type=\"node_object_set\" id=\"/Mr!)ylKSzCiTg1bX}U-\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\")2k^vkOq3N@#wWoI%%CI\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"o.K9ycCP@5[G7${`Drl-\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"||Zl!]/cVcO,6eIY50Wn\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\";cx#|9J/yFT/W$lHU~BH\"><field name=\"VAR\" id=\"Qf;P.ol_%Q]}gbPyTS6e\" variabletype=\"\">success</field></block></value></block></statement><next><block type=\"node_send\" id=\"cu-xJ1Ve4*fjZ|P6}EQg\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"Ffa5[^WZ(%Z1M@_{{f*M\"></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "Puzzle lock ABCD",
        "x": 537.9999732971191,
        "y": 341.99999237060547,
        "wires": [
            [
                "cf6d766a.89e19"
            ]
        ]
    },
    {
        "id": "1f1bf1ce.78de2e",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "",
        "topic": "",
        "payload": "A",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 260.89994049072266,
        "y": 210.0000057220459,
        "wires": [
            [
                "587f8a47.2621bc"
            ]
        ]
    },
    {
        "id": "e1e797bb.97bd08",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "",
        "topic": "",
        "payload": "B",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 261.89994049072266,
        "y": 277.0000057220459,
        "wires": [
            [
                "587f8a47.2621bc"
            ]
        ]
    },
    {
        "id": "c8b78983.88b2e",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "",
        "topic": "",
        "payload": "C",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 264.89994049072266,
        "y": 353.0000057220459,
        "wires": [
            [
                "587f8a47.2621bc"
            ]
        ]
    },
    {
        "id": "8870a311.71ea9",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "",
        "topic": "",
        "payload": "D",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 260.89991760253906,
        "y": 425.0000057220459,
        "wires": [
            [
                "587f8a47.2621bc"
            ]
        ]
    },
    {
        "id": "f97ec460.666be",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "reset",
        "topic": "",
        "payload": "puzzleorder",
        "payloadType": "global",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 266.999942779541,
        "y": 137.00000190734863,
        "wires": [
            [
                "d36fe446.3578f8"
            ]
        ]
    },
    {
        "id": "d36fe446.3578f8",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "global.set('puzzleorder', '0');\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"qQ3?TGK_v(|H)4Dq:}FP\" x=\"138\" y=\"112\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"_T[~AYS3(8Lk3//L3#NI\"></shadow><block type=\"node_global_memory\" id=\"ns,^#9;$ehC3{C.D8r5o\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"8#@|8P$^`=B.qRhT)o=r\"><field name=\"TEXT\">puzzleorder</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"dOVOl#KngmV/hjnXItn^\"><field name=\"TEXT\">0</field></shadow></value></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 499.0000190734863,
        "y": 135,
        "wires": [
            []
        ]
    },
    {
        "id": "2ae370af.7b3678",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "",
        "topic": "",
        "payload": "game",
        "payloadType": "global",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 182.10000228881836,
        "y": 736.0000095367432,
        "wires": [
            [
                "7647b20f.782904",
                "53cfb038.df2708",
                "b108cff5.3a2f48"
            ]
        ]
    },
    {
        "id": "7647b20f.782904",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var gameactive;\n\n\nglobal.set('game', true);\ngameactive = (global.get('game'));\nmsg['payload'] = gameactive;\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"%Qs3C=8roS*va(fFkCp/\">gameactive</variable></variables><block type=\"node_object_set\" id=\"*EJX62hpYS}fTU94yFCW\" x=\"87\" y=\"63\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\")nuZ|qVZgdE3@F?A[3+4\"></shadow><block type=\"node_global_memory\" id=\"~4UOU9krn-1B{3;c)W$j\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"+!Ju=r.s^sZ=Na0AYM#a\"><field name=\"TEXT\">game</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"d6H}QtgGE1/vCLbc(pN;\"><field name=\"TEXT\"></field></shadow><block type=\"logic_boolean\" id=\"oJvslUsr_orR?@Fw0@h+\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\" id=\"}cifJR:dP`~YW;hygt^Z\"><field name=\"VAR\" id=\"%Qs3C=8roS*va(fFkCp/\" variabletype=\"\">gameactive</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"|g5W`.*oI`GGg,}_Vj%t\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"[xOyNYlubv7k3y_E/W@F\"></shadow><block type=\"node_global_memory\" id=\"A_OqbklxI)#E3K|1B88p\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"Y,S31|R9n1/{F@^XMu2N\"><field name=\"TEXT\">game</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"plgOXfT]O!|uJ$|no_L{\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"Ahf(lv+Yk)FQ_r7ULL`q\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"P80v*Px,zE7KJ,;^?h0u\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"x|MaSb=ENd[,;Ql!7U4b\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"w%M*@lYLo6~Tr[CR4~YH\"><field name=\"VAR\" id=\"%Qs3C=8roS*va(fFkCp/\" variabletype=\"\">gameactive</field></block></value><next><block type=\"node_send\" id=\"/M7^_P2^sIP]PSPjFMx$\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"5qEqZzyu]V::ZBCQr(..\"></shadow></value></block></next></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "set game True",
        "x": 427.1000061035156,
        "y": 642.0000095367432,
        "wires": [
            [
                "b815c936.2838d"
            ]
        ]
    },
    {
        "id": "a222eeee.9c6d08",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "",
        "topic": "",
        "payload": "countdown",
        "payloadType": "global",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "x": 586.0000038146973,
        "y": 1059.0000133514404,
        "wires": [
            [
                "68051786.c58fc8"
            ]
        ]
    },
    {
        "id": "6262b382.c1c61c",
        "type": "inject",
        "z": "95ecf648.5ae1c",
        "name": "start",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 708.0000038146973,
        "y": 1157.000015258789,
        "wires": [
            [
                "b4718614.1ae788"
            ]
        ]
    },
    {
        "id": "53cfb038.df2708",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var player;\n\n\nglobal.set('player1', ({ \"attack\": 10, \"boost\": 2, \"counter\": 15, \"energy\": 30 }));\nplayer = (global.get('player1'));\nglobal.set('p1scan', 0);\nmsg['payload'] = player;\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"%N3)RvhCN44~^^nsV#EK\">player</variable></variables><block type=\"node_object_set\" id=\"3Mm:*^P+]fgmENtDS9it\" x=\"137\" y=\"12\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"X/?/PEfu3_d288Tm]/y_\"></shadow><block type=\"node_global_memory\" id=\"ND+g9jHY#4ZM9a5Yu^#k\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\")o,npS*2@eRs0qW`()Aw\"><field name=\"TEXT\">player1</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"QDrjhn+wbKD?n:8aZZrn\"><field name=\"TEXT\"></field></shadow><block type=\"object_create\" id=\"TDHb7E!O{7bqkfZGGN|+\"><mutation num_fields=\"4\"><field name=\"attack\"></field><field name=\"boost\"></field><field name=\"counter\"></field><field name=\"energy\"></field></mutation><field name=\"field1\">attack</field><field name=\"field2\">boost</field><field name=\"field3\">counter</field><field name=\"field4\">energy</field><value name=\"field_input1\"><block type=\"math_number\" id=\"dkdmbvi[%h=36c{~7LyS\"><field name=\"NUM\">10</field></block></value><value name=\"field_input2\"><block type=\"math_number\" id=\"9fMVK(~G-0X~mmpxNtmF\"><field name=\"NUM\">2</field></block></value><value name=\"field_input3\"><block type=\"math_number\" id=\"CU9uaxn2J.;oWFXnb7i3\"><field name=\"NUM\">15</field></block></value><value name=\"field_input4\"><block type=\"math_number\" id=\"11/wg]:d$TrPszAaZR#s\"><field name=\"NUM\">30</field></block></value></block></value><next><block type=\"variables_set\" id=\")Rht8|,00a6a1-[X+M_X\"><field name=\"VAR\" id=\"%N3)RvhCN44~^^nsV#EK\" variabletype=\"\">player</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"E}Q}l*u^nv{#[3tE.U#e\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"zSUp7yR{qRH:;bO]BMd{\"></shadow><block type=\"node_global_memory\" id=\"T?ioyrnYnhfz}tUp%mpd\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"7~*@mm%,6y`5/6xF4PDt\"><field name=\"TEXT\">player1</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"~%;4I@/m$xZsCzES^25+\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"04nDCpsBK@~~`xm+|?+v\"></shadow><block type=\"node_global_memory\" id=\"2nQxYri,;3oru:|pD~U)\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"OUlkuV|.L!cTi9+N;-.w\"><field name=\"TEXT\">p1scan</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"a/(^6BKDB0.Y`jJ2S96:\"><field name=\"TEXT\"></field></shadow><block type=\"math_number\" id=\"%y:V[b[vVO8Z0K?FNzw|\"><field name=\"NUM\">0</field></block></value><next><block type=\"node_object_set\" id=\"]2+s60v!{dfH7ozvWBoH\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"%cI~$Hx%VRLu[mnqeK-C\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"8/:.HfzonG$YU0,}J,SF\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"Fi.bNL=}VJ*?]4M?o(4!\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"=AXCV%+S@oD(!2vX4k?@\"><field name=\"VAR\" id=\"%N3)RvhCN44~^^nsV#EK\" variabletype=\"\">player</field></block></value><next><block type=\"node_send\" id=\"ux3Wm!.np!edF)oaHu5+\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"/OlZSh-(p,b{o0Y,cQP~\"></shadow></value></block></next></block></next></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "Create Player 1",
        "x": 435.00000762939453,
        "y": 736.0000114440918,
        "wires": [
            [
                "b815c936.2838d"
            ]
        ]
    },
    {
        "id": "b108cff5.3a2f48",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var player;\n\n\nglobal.set('player2', ({ \"attack\": 10, \"boost\": 2, \"counter\": 15, \"energy\": 30 }));\nplayer = (global.get('player2'));\nglobal.set('p2scan', 0);\nmsg['payload'] = player;\nnode.send([msg, null]);\nnode.send([null, player]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"%N3)RvhCN44~^^nsV#EK\">player</variable></variables><block type=\"node_object_set\" id=\"3Mm:*^P+]fgmENtDS9it\" x=\"113\" y=\"63\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"X/?/PEfu3_d288Tm]/y_\"></shadow><block type=\"node_global_memory\" id=\"ND+g9jHY#4ZM9a5Yu^#k\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\")o,npS*2@eRs0qW`()Aw\"><field name=\"TEXT\">player2</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"QDrjhn+wbKD?n:8aZZrn\"><field name=\"TEXT\"></field></shadow><block type=\"object_create\" id=\"xAC,Z,7El/GcYWekEc84\"><mutation num_fields=\"4\"><field name=\"attack\"></field><field name=\"boost\"></field><field name=\"counter\"></field><field name=\"energy\"></field></mutation><field name=\"field1\">attack</field><field name=\"field2\">boost</field><field name=\"field3\">counter</field><field name=\"field4\">energy</field><value name=\"field_input1\"><block type=\"math_number\" id=\"dkdmbvi[%h=36c{~7LyS\"><field name=\"NUM\">10</field></block></value><value name=\"field_input2\"><block type=\"math_number\" id=\"9fMVK(~G-0X~mmpxNtmF\"><field name=\"NUM\">2</field></block></value><value name=\"field_input3\"><block type=\"math_number\" id=\"CU9uaxn2J.;oWFXnb7i3\"><field name=\"NUM\">15</field></block></value><value name=\"field_input4\"><block type=\"math_number\" id=\"11/wg]:d$TrPszAaZR#s\"><field name=\"NUM\">30</field></block></value></block></value><next><block type=\"variables_set\" id=\")Rht8|,00a6a1-[X+M_X\"><field name=\"VAR\" id=\"%N3)RvhCN44~^^nsV#EK\" variabletype=\"\">player</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"E}Q}l*u^nv{#[3tE.U#e\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"zSUp7yR{qRH:;bO]BMd{\"></shadow><block type=\"node_global_memory\" id=\"T?ioyrnYnhfz}tUp%mpd\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"7~*@mm%,6y`5/6xF4PDt\"><field name=\"TEXT\">player2</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"~%;4I@/m$xZsCzES^25+\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"04nDCpsBK@~~`xm+|?+v\"></shadow><block type=\"node_global_memory\" id=\"2nQxYri,;3oru:|pD~U)\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"OUlkuV|.L!cTi9+N;-.w\"><field name=\"TEXT\">p2scan</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"a/(^6BKDB0.Y`jJ2S96:\"><field name=\"TEXT\"></field></shadow><block type=\"math_number\" id=\"r)NpGOe~:gg0.,DrKA`o\"><field name=\"NUM\">0</field></block></value><next><block type=\"node_object_set\" id=\"]2+s60v!{dfH7ozvWBoH\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"%cI~$Hx%VRLu[mnqeK-C\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"8/:.HfzonG$YU0,}J,SF\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"Fi.bNL=}VJ*?]4M?o(4!\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"=AXCV%+S@oD(!2vX4k?@\"><field name=\"VAR\" id=\"%N3)RvhCN44~^^nsV#EK\" variabletype=\"\">player</field></block></value><next><block type=\"node_send\" id=\"[;K_V}uL)ec{4Yno(_Ar\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"*h+jN0J[eNS0S!k+/l-A\"></shadow></value><next><block type=\"node_send\" id=\"1OrvC^+W6I-n4glSNqQ/\"><field name=\"OUTPUT_NR\">2</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"p`Dk}hIw|n4LowRqr*Bj\"></shadow><block type=\"variables_get\" id=\"+yqUP]RH*Vg@/9K*2.D-\"><field name=\"VAR\" id=\"%N3)RvhCN44~^^nsV#EK\" variabletype=\"\">player</field></block></value></block></next></block></next></block></next></block></next></block></next></block></xml>",
        "outputs": 2,
        "name": "Create Player 2",
        "x": 438.00000762939453,
        "y": 822.0000123977661,
        "wires": [
            [
                "b815c936.2838d"
            ],
            [
                "2f1a8ae9.29eede"
            ]
        ]
    },
    {
        "id": "7ff50861.e12488",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var time;\n\n\ntime = (msg['payload']);\nglobal.set('p1scan', time);\nnode.send([time]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"0n@bO$uognHH,cy--Pez\">time</variable></variables><block type=\"variables_set\" id=\"L*j=0AQ;JIh9Z+Z#0]VZ\" x=\"187\" y=\"87\"><field name=\"VAR\" id=\"0n@bO$uognHH,cy--Pez\" variabletype=\"\">time</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"]0N-a[$%EDr_#du[?iSc\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"c2=H*l2G:@6klnw[M}{I\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"uu(6wf^J:-+ry2JRc_2V\"><field name=\"TEXT\">payload</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"~%;4I@/m$xZsCzES^25+\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"04nDCpsBK@~~`xm+|?+v\"></shadow><block type=\"node_global_memory\" id=\"2nQxYri,;3oru:|pD~U)\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"OUlkuV|.L!cTi9+N;-.w\"><field name=\"TEXT\">p1scan</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"a/(^6BKDB0.Y`jJ2S96:\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"G9J/xDLo@[(?+C,!ian,\"><field name=\"VAR\" id=\"0n@bO$uognHH,cy--Pez\" variabletype=\"\">time</field></block></value><next><block type=\"node_send\" id=\"mPkMb|Un]$6@u*:5R6`A\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"XTaaJY;i[O_tL1?10SP|\"></shadow><block type=\"variables_get\" id=\"Mx~$3G/n36yz!ZRKhpo(\"><field name=\"VAR\" id=\"0n@bO$uognHH,cy--Pez\" variabletype=\"\">time</field></block></value></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "change p1scan to payload",
        "x": 1624.0000076293945,
        "y": 722.0000133514404,
        "wires": [
            [
                "d6e9cbcb.63d87"
            ]
        ]
    },
    {
        "id": "d6e9cbcb.63d87",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var p1, p2;\n\n\np1 = (global.get('p1scan'));\np2 = (global.get('p2scan'));\nif (p1 == 1 && p2 == 2) {\n  msg['payload'] = 'fight';\n} else {\n  msg['payload'] = 'challenge';\n}\nnode.send([msg]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"pl1ir/i#d8ws`Dj3b%ti\">p1</variable><variable type=\"\" id=\"5[?*~7R7yAcK?RSiSSyM\">p2</variable></variables><block type=\"variables_set\" id=\",C0R0k@Q3{m8EcF60H,U\" x=\"37\" y=\"38\"><field name=\"VAR\" id=\"pl1ir/i#d8ws`Dj3b%ti\" variabletype=\"\">p1</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"QJK@:Q,u4xG}=Aa6skb6\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"u7lgrxnoTj%Frb`wY~.C\"></shadow><block type=\"node_global_memory\" id=\"Ab-JGl1210j:U2ffVxn)\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"Zs(OPiJ_ATCbKDA8#+D/\"><field name=\"TEXT\">p1scan</field></shadow></value></block></value><next><block type=\"variables_set\" id=\"#4-mK$@f]sVSp7R4oHih\"><field name=\"VAR\" id=\"5[?*~7R7yAcK?RSiSSyM\" variabletype=\"\">p2</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"|Q2dUFSZ7+zMZ@5(_)Lt\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"WN~$RLkEviX*PV2)~V~8\"></shadow><block type=\"node_global_memory\" id=\"GaE??rlHI(:*$a;RyVjI\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"eoOG~8Ubo;68OTB{5=.{\"><field name=\"TEXT\">p2scan</field></shadow></value></block></value><next><block type=\"controls_if\" id=\"sL:~Br}/k,]aG0pwkzem\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"y07KtbdrI*y3-,7E%A_x\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"PjK0WOjQcCKqEK+h|)H1\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"O,Pw]e6]iks5=w_xxG}v\"><field name=\"VAR\" id=\"pl1ir/i#d8ws`Dj3b%ti\" variabletype=\"\">p1</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"|6n_LcnH{#DE6RyQa%]Z\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"H)`y_ZpPrYo_@+SEvDue\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"7npEWLB/~5ZAvWsYC4(v\"><field name=\"VAR\" id=\"5[?*~7R7yAcK?RSiSSyM\" variabletype=\"\">p2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"V+yhvZYRHJy[N3JPDbYp\"><field name=\"NUM\">2</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"node_object_set\" id=\"s?Qp:7D-jp}/_(VA2)yW\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"k@yq,_t(JsZC8m4C?XWK\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"IKpI!}7!bqv}`.#(Zg|[\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"zDFa4Qa*KrIJa!dcII5x\"><field name=\"TEXT\">fight</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"node_object_set\" id=\"6fQG`ZIGEOA.iG4vZ5_X\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"E%lTptH@5PTs5n)mR,(k\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"H~cn3MfzCsD4uU*~Awum\"><field name=\"TEXT\">payload</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"F|J}-KJ[5LoXb^w`$,B(\"><field name=\"TEXT\">challenge</field></shadow></value></block></statement><next><block type=\"node_send\" id=\"x.T0ugYqidhlYaLN%wQ,\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"sa|=1NOOF3)ABa5iiTBi\"></shadow></value></block></next></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 1859.0000114440918,
        "y": 767.0000152587891,
        "wires": [
            []
        ]
    },
    {
        "id": "a8211820.94a2e8",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var time;\n\n\ntime = (msg['payload']);\nglobal.set('p1scan', time);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"0n@bO$uognHH,cy--Pez\">time</variable></variables><block type=\"variables_set\" id=\"L*j=0AQ;JIh9Z+Z#0]VZ\" x=\"188\" y=\"37\"><field name=\"VAR\" id=\"0n@bO$uognHH,cy--Pez\" variabletype=\"\">time</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"]0N-a[$%EDr_#du[?iSc\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"c2=H*l2G:@6klnw[M}{I\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"uu(6wf^J:-+ry2JRc_2V\"><field name=\"TEXT\">payload</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"~%;4I@/m$xZsCzES^25+\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"04nDCpsBK@~~`xm+|?+v\"></shadow><block type=\"node_global_memory\" id=\"2nQxYri,;3oru:|pD~U)\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"OUlkuV|.L!cTi9+N;-.w\"><field name=\"TEXT\">p1scan</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"a/(^6BKDB0.Y`jJ2S96:\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"0D+k[ymR[%+.l6rz*:Es\"><field name=\"VAR\" id=\"0n@bO$uognHH,cy--Pez\" variabletype=\"\">time</field></block></value></block></next></block></xml>",
        "outputs": 1,
        "name": "change p2scan to payload",
        "x": 1614.0000076293945,
        "y": 803.0000152587891,
        "wires": [
            [
                "d6e9cbcb.63d87"
            ]
        ]
    },
    {
        "id": "b815c936.2838d",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 698.0000076293945,
        "y": 717.0000095367432,
        "wires": []
    },
    {
        "id": "80066293.adee1",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 884.0000114440918,
        "y": 878.0000133514404,
        "wires": []
    },
    {
        "id": "2f1a8ae9.29eede",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "node.send([(msg['health'])]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_send\" id=\"b}}8Ax_jNkt8k^/T2[6P\" x=\"163\" y=\"162\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"QXN8jB=Fdc6un}hWuAh`\"></shadow><block type=\"node_object_get\" id=\"xQMBVD;T,/_M_Kv5B3Q*\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"PU4_RBW^G-MN]-b0YPgX\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"b9+jwUo9(FQ57[U1wECb\"><field name=\"TEXT\">health</field></shadow></value></block></value></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 632.1000595092773,
        "y": 874.0000133514404,
        "wires": [
            [
                "80066293.adee1"
            ]
        ]
    },
    {
        "id": "68051786.c58fc8",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "global.set('countdown', '60');\nnode.send([(msg['countdown'])]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"node_object_set\" id=\"T9W),?|+{-u+msK8xAem\" x=\"238\" y=\"88\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"E.(NsoL2m`?Ur]^W6BWb\"></shadow><block type=\"node_global_memory\" id=\"HrdfKx8!JD_a#G3R[*H_\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"F%bGwxB_R4;3TJJR!+_z\"><field name=\"TEXT\">countdown</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"FZ]oTdE3APe0AuCjD`e6\"><field name=\"TEXT\">60</field></shadow></value><next><block type=\"node_send\" id=\"TU^I_beM,48|Nj~]NpBJ\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"Z!G./Je1843hlNrxRmin\"></shadow><block type=\"node_object_get\" id=\"-UiqHqS^FFcJ^;lElJwF\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"BV`.WHy1q@cf]tZwUbB-\"></shadow></value><value name=\"field_name\"><shadow type=\"text\" id=\"GieX=MCkAmrhT74I94x6\"><field name=\"TEXT\">countdown</field></shadow></value></block></value></block></next></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 792.1000595092773,
        "y": 1065.000015258789,
        "wires": [
            [
                "c0621bd7.a29f7"
            ]
        ]
    },
    {
        "id": "b4718614.1ae788",
        "type": "Blockly",
        "z": "95ecf648.5ae1c",
        "language": "en",
        "func": "var times;\n\n\ntimes = (global.get('countdown'));\nglobal.set('countdown', (times - 1));\nnode.send([times]);\n",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><variables><variable type=\"\" id=\"-WHYZfn:~;5Q[?zh|PM9\">times</variable></variables><block type=\"variables_set\" id=\"~Ll[cZ##[xuA#lrRoUi6\" x=\"162\" y=\"63\"><field name=\"VAR\" id=\"-WHYZfn:~;5Q[?zh|PM9\" variabletype=\"\">times</field><value name=\"VALUE\"><block type=\"node_object_get\" id=\"X_lcXLBelg]oyK%w:o=0\"><mutation action=\"GET\"></mutation><field name=\"action\">GET</field><value name=\"object\"><shadow type=\"node_msg\" id=\"9?IL+J1kv-Z{R/40(/)x\"></shadow><block type=\"node_global_memory\" id=\"kpp,lE[{#ul8^TygtrhB\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"%p[S*u]k~VNWi:yIhvdp\"><field name=\"TEXT\">countdown</field></shadow></value></block></value><next><block type=\"node_object_set\" id=\"vQ.vY2ECgEcQ=@0cHJlv\"><value name=\"object_field\"><shadow type=\"node_msg\" id=\"+8o}%ESpzFk1nmi?L?xq\"></shadow><block type=\"node_global_memory\" id=\"PcHNBss~;%7W%_I%{Sc#\"></block></value><value name=\"field_name\"><shadow type=\"text\" id=\"umxDBzTPD8tz*]`Vhgz1\"><field name=\"TEXT\">countdown</field></shadow></value><value name=\"value_field\"><shadow type=\"text\" id=\"K/e!3+djKZCQGfH7bW:O\"><field name=\"TEXT\"></field></shadow><block type=\"math_arithmetic\" id=\"yA)M;tHoB7u~ZpT(aR0Q\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"+EVxWus4KpXgpzDqgEoZ\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"d05~4dBA]/3R9e@gcxyL\"><field name=\"VAR\" id=\"-WHYZfn:~;5Q[?zh|PM9\" variabletype=\"\">times</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"3Rtn^hDI#@ew?cm-Gs)M\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"node_send\" id=\"/+~$p,?188em,kh(Rb+_\"><field name=\"OUTPUT_NR\">1</field><value name=\"MESSAGE_INPUT\"><shadow type=\"node_msg\" id=\"?4vW(CUfmLe}Qtl4E-mI\"></shadow><block type=\"variables_get\" id=\"{hVqfL6un)1i+30*cOT_\"><field name=\"VAR\" id=\"-WHYZfn:~;5Q[?zh|PM9\" variabletype=\"\">times</field></block></value></block></next></block></next></block></xml>",
        "outputs": 1,
        "name": "",
        "x": 957.1000137329102,
        "y": 1124.000015258789,
        "wires": [
            [
                "7ee433e9.0d770c"
            ]
        ]
    },
    {
        "id": "7ee433e9.0d770c",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1187.0999755859375,
        "y": 1121.5999755859375,
        "wires": []
    },
    {
        "id": "c0621bd7.a29f7",
        "type": "debug",
        "z": "95ecf648.5ae1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1016.0999755859375,
        "y": 1066.5999755859375,
        "wires": []
    },
    {
        "id": "4ab40aa4.e3c69c",
        "type": "mqtt out",
        "z": "2e99692c.076a7e",
        "name": "send to mqtt.thegame.folly.site",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 482.5,
        "y": 143.00003051757812,
        "wires": []
    },
    {
        "id": "15087ec4.c81da1",
        "type": "subflow:2e99692c.076a7e",
        "z": "76e38cef.da2c54",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "zero-1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/convictshope/HeroTwinkle/short-twinkle.wav"
            }
        ],
        "x": 547.25,
        "y": 1013,
        "wires": []
    },
    {
        "id": "2587690f.a69446",
        "type": "function",
        "z": "2e99692c.076a7e",
        "name": "",
        "func": "\nif (msg.node === undefined || msg.node === \"\") {\n    msg.node = env.get('node')\n}\nif (msg.sound === undefined || msg.sound === \"\") {\n    msg.sound = env.get('sound')\n}\n\n\nif (msg.topic === undefined || msg.topic === \"\") {\n    msg.topic = msg.node\n}\n// change msg.topic to end in \"/audio/play\"\nwords = msg.topic.split(\"/\")\nmsg.topic = words[0]+\"/audio/play\"\n\nif (typeof(msg.payload) != \"object\") {\n    if (typeof(msg.payload) == \"string\") {\n        msg.sound = msg.payload\n    }\n}\nmsg.orig = msg.payload\nmsg.payload = {\n    \"sound\": msg.sound\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 226.50001525878906,
        "y": 101.0000228881836,
        "wires": [
            [
                "4ab40aa4.e3c69c",
                "6ef1af3b.ab727"
            ]
        ]
    },
    {
        "id": "6ef1af3b.ab727",
        "type": "debug",
        "z": "2e99692c.076a7e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 414.5,
        "y": 71.0000228881836,
        "wires": []
    },
    {
        "id": "c608b972.2b5778",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "trigger using msg.node and msg.sound",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 285,
        "y": 1142,
        "wires": [
            [
                "d492d8a1.430b8"
            ]
        ]
    },
    {
        "id": "f3252fcf.216e1",
        "type": "subflow:2e99692c.076a7e",
        "z": "76e38cef.da2c54",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": ""
            },
            {
                "name": "sound",
                "type": "str",
                "value": ""
            }
        ],
        "x": 756.75,
        "y": 1153,
        "wires": []
    },
    {
        "id": "d492d8a1.430b8",
        "type": "change",
        "z": "76e38cef.da2c54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "node",
                "pt": "msg",
                "to": "zero-1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "sound",
                "pt": "msg",
                "to": "/home/pi/1819/sounds/Dueling/Failure.wav",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 581.5,
        "y": 1151,
        "wires": [
            [
                "f3252fcf.216e1"
            ]
        ]
    },
    {
        "id": "fb08bfd2.a6c26",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "trigger sound set on \"play sound\" node",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 282,
        "y": 1019,
        "wires": [
            [
                "15087ec4.c81da1"
            ]
        ]
    },
    {
        "id": "d615f745.e18d88",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "trigger using payload and topic in trigger",
        "topic": "zero-1/audio/play",
        "payload": "{\"sound\":\"/usr/share/scratch/Media/Sounds/Effects/DoorCreak.wav\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 292,
        "y": 1076,
        "wires": [
            [
                "e1458c52.bb62"
            ]
        ]
    },
    {
        "id": "e1458c52.bb62",
        "type": "subflow:2e99692c.076a7e",
        "z": "76e38cef.da2c54",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": ""
            },
            {
                "name": "sound",
                "type": "str",
                "value": ""
            }
        ],
        "x": 563.75,
        "y": 1075,
        "wires": []
    },
    {
        "id": "b0cf8bf1.bf4b8",
        "type": "subflow:e7cf18e0.b03f58",
        "z": "76e38cef.da2c54",
        "name": "RFID tag read",
        "env": [],
        "x": 190,
        "y": 1250,
        "wires": [
            [
                "e61fdb3f.b94cf8"
            ]
        ]
    },
    {
        "id": "e61fdb3f.b94cf8",
        "type": "switch",
        "z": "76e38cef.da2c54",
        "name": "",
        "property": "payload.tag",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "550A5CBC",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 352.5,
        "y": 1251,
        "wires": [
            [
                "3ca4b8c8.2bc0d8",
                "15087ec4.c81da1"
            ]
        ]
    },
    {
        "id": "3ca4b8c8.2bc0d8",
        "type": "debug",
        "z": "76e38cef.da2c54",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 574.5,
        "y": 1301,
        "wires": []
    },
    {
        "id": "377c8827.8e37c",
        "type": "switch",
        "z": "a2bcb00b.1e8078",
        "name": "find node",
        "property": "button",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "find",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 568.5,
        "y": 440,
        "wires": [
            [
                "ed092557.eceee8"
            ]
        ]
    },
    {
        "id": "893205d6.8e38a8",
        "type": "subflow:2e99692c.076a7e",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "env": [],
        "x": 932.5,
        "y": 442,
        "wires": []
    },
    {
        "id": "ed092557.eceee8",
        "type": "change",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "allnodes_playsound",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 726.5,
        "y": 439.0000305175781,
        "wires": [
            [
                "893205d6.8e38a8",
                "5a2155ba.39789c",
                "aa503e19.b3edf8"
            ]
        ]
    },
    {
        "id": "50a02dd4.8ef5e4",
        "type": "ui_dropdown",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "label": "Debug Sound",
        "tooltip": "",
        "place": "Select option",
        "group": "dc071d3f.d1e088",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "",
                "value": "Dueling/Boost.wav",
                "type": "str"
            },
            {
                "label": "",
                "value": "Dueling/Podium Ready.mp3",
                "type": "str"
            },
            {
                "label": "",
                "value": "Dueling/Magic Detected.mp3",
                "type": "str"
            },
            {
                "label": "",
                "value": "Dueling/ATK - Lightning.wav",
                "type": "str"
            },
            {
                "label": "",
                "value": "Dueling/Disable.wav",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 565,
        "y": 1081.0000305175781,
        "wires": [
            [
                "9aa6a96e.ae293"
            ]
        ]
    },
    {
        "id": "9aa6a96e.ae293",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "save sound for play button",
        "func": "\n\nflow.set('allnodes_playsound', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 787.5,
        "y": 1094.0000305175781,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "313ee180.4adc66",
        "type": "ui_dropdown",
        "z": "76e38cef.da2c54",
        "name": "",
        "label": "XP remove node",
        "tooltip": "The selected node will be the one that increases the XP",
        "place": "Select option",
        "group": "671fa027.b00988",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 1057,
        "y": 487.0833435058594,
        "wires": [
            [
                "5f3544e8.f0bdbc"
            ]
        ]
    },
    {
        "id": "5f3544e8.f0bdbc",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "set node chosen to be the decrementor",
        "func": "\n\nflow.set('xp-decrementor', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1313,
        "y": 486.0833435058594,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "ed21fa97.135028",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "select the node to decrement the XP",
        "func": "\nvar def = flow.get('xp-decrementor') || \"\";\n\nvar nodes = []\nfor (const x of msg.payload) {\n    nodes.push(x.name)\n}\n\nreturn {payload: def, options: nodes};",
        "outputs": 1,
        "noerr": 0,
        "x": 813,
        "y": 488.0833435058594,
        "wires": [
            [
                "313ee180.4adc66"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "fa111938.c6bb48",
        "type": "mongodb-node",
        "z": "76e38cef.da2c54",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "nodes",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 510.83331298828125,
        "y": 487.0833435058594,
        "wires": [
            [
                "8a07b2c2.ebc1c8",
                "ed21fa97.135028",
                "6518aebd.59ff28"
            ]
        ]
    },
    {
        "id": "c61f371b.c96e08",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 297.83331298828125,
        "y": 487.0833435058594,
        "wires": [
            [
                "fa111938.c6bb48"
            ]
        ]
    },
    {
        "id": "9fc0b952.d87df",
        "type": "ui_dropdown",
        "z": "76e38cef.da2c54",
        "name": "",
        "label": "XP reset node",
        "tooltip": "The selected node will be the one that increases the XP",
        "place": "Select option",
        "group": "671fa027.b00988",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 1051.5,
        "y": 446.0833435058594,
        "wires": [
            [
                "4f9105d4.776844"
            ]
        ]
    },
    {
        "id": "4f9105d4.776844",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "set node chosen to be the reset",
        "func": "\n\nflow.set('xp-reset', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1287.5,
        "y": 445.0833435058594,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "6518aebd.59ff28",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "select the node to reset the XP",
        "func": "\nvar def = flow.get('xp-reset') || \"\";\n\nvar nodes = []\nfor (const x of msg.payload) {\n    nodes.push(x.name)\n}\n\nreturn {payload: def, options: nodes};",
        "outputs": 1,
        "noerr": 0,
        "x": 787.5,
        "y": 447.0833435058594,
        "wires": [
            [
                "9fc0b952.d87df"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "e3c76c07.0f407",
        "type": "Blockly",
        "z": "76e38cef.da2c54",
        "language": "en",
        "func": "",
        "workspaceXml": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>",
        "outputs": 1,
        "name": "",
        "x": 1640.0999755859375,
        "y": 782,
        "wires": [
            []
        ]
    },
    {
        "id": "e272a896.840ed8",
        "type": "inject",
        "z": "25c34437.aa6314",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 195.10000228881836,
        "y": 241.00000381469727,
        "wires": [
            [
                "e1af2440.2a63b8"
            ]
        ]
    },
    {
        "id": "f8413530.e6826",
        "type": "delay",
        "z": "25c34437.aa6314",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 337.10000228881836,
        "y": 360.0000057220459,
        "wires": [
            []
        ]
    },
    {
        "id": "dbe6898c.19c09",
        "type": "subflow:2e99692c.076a7e",
        "z": "25c34437.aa6314",
        "name": "",
        "env": [],
        "x": 575.1000366210938,
        "y": 416,
        "wires": []
    },
    {
        "id": "8bbe1d86.cb8e5",
        "type": "inject",
        "z": "7ac82fd.18abfd",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 189.10000610351562,
        "y": 818,
        "wires": [
            []
        ]
    },
    {
        "id": "e1af2440.2a63b8",
        "type": "timerswitch",
        "z": "25c34437.aa6314",
        "name": "",
        "ontopic": "",
        "offtopic": "",
        "onpayload": "",
        "offpayload": "",
        "disabled": false,
        "schedules": [
            {
                "on_h": "01",
                "on_m": "00",
                "on_s": "00",
                "off_h": "00",
                "off_m": "00",
                "off_s": "00",
                "valid": true
            }
        ],
        "x": 500.50000762939453,
        "y": 252.0000057220459,
        "wires": [
            [
                "1795c760.271c51"
            ]
        ]
    },
    {
        "id": "1795c760.271c51",
        "type": "debug",
        "z": "25c34437.aa6314",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 780.1000366210938,
        "y": 241,
        "wires": []
    },
    {
        "id": "550f901e.6efb4",
        "type": "mqtt out",
        "z": "13b2145a.48d5ec",
        "name": "send to mqtt.thegame.folly.site",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 419.9999694824219,
        "y": 127.08333587646484,
        "wires": []
    },
    {
        "id": "eaec1a89.76971",
        "type": "function",
        "z": "13b2145a.48d5ec",
        "name": "",
        "func": "msg.orig = msg.payload\n\nif (typeof(msg.payload) != \"object\") {\n    if (typeof(msg.payload) == \"string\") {\n        msg.payload.sound = msg.payload\n    }\n}\nif (msg.payload.node === undefined || msg.payload.node === \"\") {\n    msg.payload.node = env.get('node')\n}\nif (msg.payload.device === undefined || msg.payload.device === \"\") {\n    msg.payload.device = env.get('device')\n}\nif (msg.payload.operation === undefined || msg.payload.operation === \"\") {\n    msg.payload.operation = env.get('operation')\n}\nif (msg.payload.colour === undefined || msg.payload.colour === \"\") {\n    msg.payload.colour = env.get('colour')\n}\nif (msg.payload.count === undefined || msg.payload.count === \"\") {\n    msg.payload.count = env.get('count')\n}\n\nif (msg.payload.topic === undefined || msg.payload.topic === \"\") {\n    msg.payload.topic = msg.payload.node\n}\nif (msg.topic === undefined || msg.topic === \"\") {\n    // change msg.topic to end in \"/<device>/play\"\n    words = msg.payload.topic.split(\"/\")\n    msg.topic = words[0]+\"/\"+msg.payload.device+\"/play\"\n}\n//msg.payload = {\n//    \"operation\": msg.payload.operation,\n//    \"colour\": msg.payload.colour,\n//    \"count\": msg.payload.count\n//}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 163.99998474121094,
        "y": 85.08332824707031,
        "wires": [
            [
                "550f901e.6efb4",
                "80d19b3d.ac10d"
            ]
        ]
    },
    {
        "id": "80d19b3d.ac10d",
        "type": "debug",
        "z": "13b2145a.48d5ec",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 351.9999694824219,
        "y": 55.08332824707031,
        "wires": []
    },
    {
        "id": "5a2155ba.39789c",
        "type": "subflow:13b2145a.48d5ec",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "env": [
            {
                "name": "operation",
                "type": "str",
                "value": "theatrechase"
            }
        ],
        "x": 929.1667327880859,
        "y": 499.5,
        "wires": []
    },
    {
        "id": "779b9ac0.7306cc",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "selected debug sound",
        "func": "\nvar def = flow.get('allnodes_playsound') || \"\";\n\n//var nodes = []\n//for (const x of msg.payload) {\n//    nodes.push(x.name)\n//}\n//return {payload: def, options: nodes};\nreturn {payload: def};",
        "outputs": 1,
        "noerr": 0,
        "x": 362.08331298828125,
        "y": 1079.0833435058594,
        "wires": [
            [
                "50a02dd4.8ef5e4"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "3fd4cdfc.803c92",
        "type": "inject",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 148.16665649414062,
        "y": 1077.250015258789,
        "wires": [
            [
                "779b9ac0.7306cc",
                "2d7c3d90.bcf8aa"
            ]
        ]
    },
    {
        "id": "e861cd2b.ba1e3",
        "type": "subflow:13b2145a.48d5ec",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "env": [
            {
                "name": "colour",
                "type": "str",
                "value": "off"
            },
            {
                "name": "count",
                "type": "num",
                "value": "9999"
            }
        ],
        "x": 1087.1667938232422,
        "y": 550.5,
        "wires": []
    },
    {
        "id": "aa503e19.b3edf8",
        "type": "delay",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 914.166748046875,
        "y": 554.5833282470703,
        "wires": [
            [
                "e861cd2b.ba1e3"
            ]
        ]
    },
    {
        "id": "7b3732f0.95b22c",
        "type": "mqtt in",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/touch1",
        "qos": "0",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 155.0833282470703,
        "y": 132.08334350585938,
        "wires": [
            [
                "6007b5f5.04b6a4"
            ]
        ]
    },
    {
        "id": "6007b5f5.04b6a4",
        "type": "json",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 416.0832939147949,
        "y": 134.0833396911621,
        "wires": [
            [
                "41443a4c.1c0d34"
            ]
        ]
    },
    {
        "id": "6f8c090d.810458",
        "type": "mqtt in",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/touch2",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 199.0833282470703,
        "y": 199.08334350585938,
        "wires": [
            [
                "1aeb6ae0.517805"
            ]
        ]
    },
    {
        "id": "1aeb6ae0.517805",
        "type": "json",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 415.083309173584,
        "y": 199.0833396911621,
        "wires": [
            [
                "f7c128c0.0708f"
            ]
        ]
    },
    {
        "id": "b44f45e2.bdc7e8",
        "type": "mqtt in",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/touch3",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 206.0833282470703,
        "y": 255.08334350585938,
        "wires": [
            [
                "83304a4.269d5b8"
            ]
        ]
    },
    {
        "id": "83304a4.269d5b8",
        "type": "json",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 422.083309173584,
        "y": 255.0833396911621,
        "wires": [
            [
                "6af9480e.10ef58"
            ]
        ]
    },
    {
        "id": "449e0c0c.703b34",
        "type": "mqtt in",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/touch4",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 205.0833282470703,
        "y": 314.0833435058594,
        "wires": [
            [
                "8d1c5617.edb05"
            ]
        ]
    },
    {
        "id": "8d1c5617.edb05",
        "type": "json",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 428.0832939147949,
        "y": 323.0833396911621,
        "wires": [
            [
                "981c82ae.ee3de"
            ]
        ]
    },
    {
        "id": "41443a4c.1c0d34",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var val = 100\nif (msg.payload.value > 500) {\n    val = 1000\n}\nvar touch = {\n    topic: 'Touch',\n    time: msg.payload.time,\n    payload: val\n}\n\nvar raw = {\n    topic: 'Raw',\n    time: msg.payload.time,\n    payload: msg.payload.value\n}\nreturn [touch, raw]",
        "outputs": 1,
        "noerr": 0,
        "x": 586.1666069030762,
        "y": 143.66665267944336,
        "wires": [
            [
                "9e34d54d.b18ae8"
            ]
        ]
    },
    {
        "id": "9e34d54d.b18ae8",
        "type": "ui_chart",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "cd119580.fc126",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1100",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 781.1666221618652,
        "y": 139.99999618530273,
        "wires": [
            []
        ]
    },
    {
        "id": "f7c128c0.0708f",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var val = 100\nif (msg.payload.value > 500) {\n    val = 1000\n}\nvar touch = {\n    topic: 'Touch',\n    time: msg.payload.time,\n    payload: val\n}\n\nvar raw = {\n    topic: 'Raw',\n    time: msg.payload.time,\n    payload: msg.payload.raw\n}\nreturn [touch, raw]",
        "outputs": 1,
        "noerr": 0,
        "x": 573.0832939147949,
        "y": 199.0833396911621,
        "wires": [
            [
                "c3da4062.f29f9"
            ]
        ]
    },
    {
        "id": "c3da4062.f29f9",
        "type": "ui_chart",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "cd119580.fc126",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "1100",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 768.083309173584,
        "y": 195.41668319702148,
        "wires": [
            []
        ]
    },
    {
        "id": "6af9480e.10ef58",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var val = 100\nif (msg.payload.value > 500) {\n    val = 1000\n}\nvar touch = {\n    topic: 'Touch',\n    time: msg.payload.time,\n    payload: val\n}\n\nvar raw = {\n    topic: 'Raw',\n    time: msg.payload.time,\n    payload: msg.payload.raw\n}\nreturn [touch, raw]",
        "outputs": 1,
        "noerr": 0,
        "x": 574.0832939147949,
        "y": 256.0833396911621,
        "wires": [
            [
                "dca60a9b.64798"
            ]
        ]
    },
    {
        "id": "dca60a9b.64798",
        "type": "ui_chart",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "cd119580.fc126",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "1100",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 769.083309173584,
        "y": 252.41668319702148,
        "wires": [
            []
        ]
    },
    {
        "id": "981c82ae.ee3de",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var val = 100\nif (msg.payload.value > 500) {\n    val = 1000\n}\nvar touch = {\n    topic: 'Touch',\n    time: msg.payload.time,\n    payload: val\n}\n\nvar raw = {\n    topic: 'Raw',\n    time: msg.payload.time,\n    payload: msg.payload.raw\n}\nreturn [touch, raw]",
        "outputs": 1,
        "noerr": 0,
        "x": 566.0832939147949,
        "y": 326.0833396911621,
        "wires": [
            [
                "affa0703.4f87e8"
            ]
        ]
    },
    {
        "id": "affa0703.4f87e8",
        "type": "ui_chart",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "cd119580.fc126",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "1100",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 761.083309173584,
        "y": 322.4166831970215,
        "wires": [
            []
        ]
    },
    {
        "id": "e1df97e9.739708",
        "type": "comment",
        "z": "43b6ad00.97d6d4",
        "name": "touch needs more work on the node-red end",
        "info": "the rpi crickit board sends the raw values when they change more than 160 out of 1000 \"values\"\n\nso node-red needs to allow the creator to tune the thresholds, and debouncing (the absolute values change depending on what's connected to the sensor)",
        "x": 220.16665649414062,
        "y": 53,
        "wires": []
    },
    {
        "id": "ab95079a.4746c8",
        "type": "ui_slider",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "label": "continuous servo 1",
        "tooltip": "",
        "group": "cc4552d.486e23",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "crickit-1/crickit/servo",
        "min": "-1.0",
        "max": "1.0",
        "step": "0.01",
        "x": 216.16664123535156,
        "y": 403.3333435058594,
        "wires": [
            [
                "8bbffc94.aa294",
                "886e52e7.934db"
            ]
        ]
    },
    {
        "id": "4bb801.c43d5",
        "type": "mqtt out",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/servo",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 620.1666412353516,
        "y": 415.8333435058594,
        "wires": []
    },
    {
        "id": "8bbffc94.aa294",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var m = {\n    topic: 'crickit-1/crickit/servo',\n    payload: {\n    throttle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 420.1666564941406,
        "y": 416.3333282470703,
        "wires": [
            [
                "4bb801.c43d5"
            ]
        ]
    },
    {
        "id": "886e52e7.934db",
        "type": "ui_numeric",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "label": "continuous servo 1",
        "tooltip": "",
        "group": "cc4552d.486e23",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": "-1.0",
        "max": "1.0",
        "step": "0.01",
        "x": 218.16664123535156,
        "y": 469.1665954589844,
        "wires": [
            [
                "ab95079a.4746c8"
            ]
        ]
    },
    {
        "id": "c4e7e1e9.cc2cc",
        "type": "ui_slider",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "label": "position servo 2",
        "tooltip": "",
        "group": "cc4552d.486e23",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "crickit-1/crickit/servo",
        "min": "0",
        "max": "180",
        "step": "0.1",
        "x": 200.0833282470703,
        "y": 530.0833129882812,
        "wires": [
            [
                "ae0987d.0eefd78",
                "b00c8f4b.71f898"
            ]
        ]
    },
    {
        "id": "6981d01a.6a2b",
        "type": "mqtt out",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "topic": "crickit-1/crickit/servo",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 614.0833282470703,
        "y": 542.5833129882812,
        "wires": []
    },
    {
        "id": "ae0987d.0eefd78",
        "type": "function",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "func": "var m = {\n    topic: 'crickit-1/crickit/servo',\n    payload: {\n        servo: 2,\n        angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 414.0833435058594,
        "y": 543.0832977294922,
        "wires": [
            [
                "6981d01a.6a2b"
            ]
        ]
    },
    {
        "id": "b00c8f4b.71f898",
        "type": "ui_numeric",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "label": "position servo 2",
        "tooltip": "",
        "group": "cc4552d.486e23",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": "0",
        "max": "180",
        "step": "0.1",
        "x": 202.0833282470703,
        "y": 595.9165649414062,
        "wires": [
            [
                "c4e7e1e9.cc2cc"
            ]
        ]
    },
    {
        "id": "661b24ac.f79d2c",
        "type": "subflow:13b2145a.48d5ec",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "env": [
            {
                "name": "device",
                "type": "str",
                "value": "crickit"
            }
        ],
        "x": 966.1666259765625,
        "y": 812.5,
        "wires": []
    },
    {
        "id": "4abfebc8.3234b4",
        "type": "ui_button",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "56387da8.27a554",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "rainbow",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "rainbow",
        "payload": "{\"operation\":\"rainbow\"}",
        "payloadType": "json",
        "topic": "crickit-1/crickit/play",
        "x": 498.16664123535156,
        "y": 705.7500152587891,
        "wires": [
            [
                "661b24ac.f79d2c"
            ]
        ]
    },
    {
        "id": "3fcf07d2.9532f8",
        "type": "ui_button",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "56387da8.27a554",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "theatrechase (yellow)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "theatrechase",
        "payload": "{\"operation\":\"theatrechase\",\"colour\":\"yellow\"}",
        "payloadType": "json",
        "topic": "crickit-1/crickit/play",
        "x": 545.0833282470703,
        "y": 768.3333282470703,
        "wires": [
            [
                "661b24ac.f79d2c"
            ]
        ]
    },
    {
        "id": "12dabc50.9075c4",
        "type": "ui_button",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "56387da8.27a554",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "colourwipe (blue)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "colourwipe",
        "payload": "{\"operation\":\"colourwipe\",\"colour\":\"blue\"}",
        "payloadType": "json",
        "topic": "crickit-1/crickit/play",
        "x": 535.0833129882812,
        "y": 822.0833129882812,
        "wires": [
            [
                "661b24ac.f79d2c"
            ]
        ]
    },
    {
        "id": "ea6d3056.5ee858",
        "type": "ui_button",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "56387da8.27a554",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "set (white)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "set",
        "payload": "{\"operation\":\"set\",\"colour\":\"white\",\"count\":32}",
        "payloadType": "json",
        "topic": "crickit-1/crickit/play",
        "x": 508.08331298828125,
        "y": 913.0833129882812,
        "wires": [
            [
                "661b24ac.f79d2c"
            ]
        ]
    },
    {
        "id": "fdc835f2.a02de8",
        "type": "ui_button",
        "z": "43b6ad00.97d6d4",
        "name": "",
        "group": "56387da8.27a554",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "set (off)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "set",
        "payload": "{\"operation\":\"set\",\"colour\":\"off\",\"count\":999}",
        "payloadType": "json",
        "topic": "crickit-1/crickit/play",
        "x": 516.0833129882812,
        "y": 970.0833129882812,
        "wires": [
            [
                "661b24ac.f79d2c"
            ]
        ]
    },
    {
        "id": "e95c3f04.107f2",
        "type": "switch",
        "z": "a2bcb00b.1e8078",
        "name": "git-update",
        "property": "button",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "git-update",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 684.0000610351562,
        "y": 382,
        "wires": [
            [
                "e21024cc.173028"
            ]
        ]
    },
    {
        "id": "e21024cc.173028",
        "type": "change",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"cmd\":\"pull\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "$.node & \"/deployment/git\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 873.0000610351562,
        "y": 385,
        "wires": [
            [
                "769b3a00.f9ae2c"
            ]
        ]
    },
    {
        "id": "769b3a00.f9ae2c",
        "type": "mqtt out",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1044.0000610351562,
        "y": 386,
        "wires": []
    },
    {
        "id": "437ecf09.1e83f",
        "type": "debug",
        "z": "76e38cef.da2c54",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 730.5,
        "y": 260,
        "wires": []
    },
    {
        "id": "ccc37556.c96768",
        "type": "ui_dropdown",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "label": "Select global status colour (can be over-ridden by the flow)",
        "tooltip": "This will be passed on to the node status LED",
        "place": "Select option",
        "group": "dc071d3f.d1e088",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 730,
        "y": 1167,
        "wires": [
            [
                "dac1951.2dcfd68"
            ]
        ]
    },
    {
        "id": "dac1951.2dcfd68",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "set global StatusColour - passed to rpi's status",
        "func": "\n\nglobal.set('StatusColour', msg.payload);\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1236.5,
        "y": 1169,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "ac3ed7e4.46a5d",
        "type": "subflow:a2bcb00b.1e8078",
        "z": "76e38cef.da2c54",
        "x": 313,
        "y": 373,
        "wires": [
            [
                "f5de4f38.4f28e8"
            ],
            [
                "437ecf09.1e83f"
            ]
        ]
    },
    {
        "id": "45e693b0.8f37bc",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "reply to node ping with StatusColour ",
        "func": "\n// what we're storing\nvar from = msg.payload.from\n\n// the reply to the node\n//var gamestatus = flow.get('gamestate');// ||  global.get('gamestate') || \"yellow\";\n\nvar nodestatus_colour = env.get(\"StatusColour\") ||\n                        global.get('StatusColour') ||\n                        \"yellow\";\n\nmsg.payload = {\n    \"from\": from,\n    \"status\": nodestatus_colour,\n};\nmsg.topic = from+\"/ping/reply\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 827,
        "y": 169,
        "wires": [
            []
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "2d7c3d90.bcf8aa",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "get global StatusColour",
        "func": "\nvar def = global.get('StatusColour') || \"\";\n\nvar colours = [\n    \"off\",\n    \"red\",\n    \"yellow\",\n    \"green\",\n    \"blue\",\n    \"purple\",\n    ]\n\n\nreturn {payload: def, options: colours};",
        "outputs": 1,
        "noerr": 0,
        "x": 365,
        "y": 1142,
        "wires": [
            [
                "ccc37556.c96768"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "8f73e30f.45104",
        "type": "function",
        "z": "76e38cef.da2c54",
        "name": "get flow StatusColour",
        "func": "\nvar def = flow.get('StatusColour') || \"\";\n\nvar colours = [\n    \"off\",\n    \"red\",\n    \"yellow\",\n    \"green\",\n    \"blue\",\n    \"purple\",\n    ]\n\n\nreturn {payload: def, options: colours};",
        "outputs": 1,
        "noerr": 0,
        "x": 256,
        "y": 712,
        "wires": [
            [
                "42660a17.a03f2c"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "39e8fa9e.91230e",
        "type": "inject",
        "z": "76e38cef.da2c54",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 89,
        "y": 714,
        "wires": [
            [
                "8f73e30f.45104"
            ]
        ]
    },
    {
        "id": "f5de4f38.4f28e8",
        "type": "change",
        "z": "76e38cef.da2c54",
        "name": "use local flow status colour",
        "rules": [
            {
                "t": "set",
                "p": "payload.status",
                "pt": "msg",
                "to": "StatusColour",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 687.5,
        "y": 371,
        "wires": [
            [
                "8759a0a5.29b618"
            ]
        ]
    },
    {
        "id": "4b94cb4c.f7d5dc",
        "type": "switch",
        "z": "a2bcb00b.1e8078",
        "name": "configure",
        "property": "button",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "configure",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 671,
        "wires": [
            [
                "f170e963.702fb8"
            ]
        ]
    },
    {
        "id": "f170e963.702fb8",
        "type": "change",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"name\": $.node }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 565,
        "y": 728,
        "wires": [
            [
                "fefcca7e.043be8"
            ]
        ]
    },
    {
        "id": "fefcca7e.043be8",
        "type": "mongodb-node",
        "z": "a2bcb00b.1e8078",
        "mongodb": "788cee09.d64d1",
        "name": "get node",
        "collection": "nodes",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 735.9999389648438,
        "y": 731.4166259765625,
        "wires": [
            [
                "162549da.18280e"
            ]
        ]
    },
    {
        "id": "56ae16eb.f54e48",
        "type": "ui_text",
        "z": "a2bcb00b.1e8078",
        "group": "c8cc8e55.076268",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "IP",
        "format": "{{msg.payload.ip}}",
        "layout": "row-spread",
        "x": 1081.5,
        "y": 752,
        "wires": []
    },
    {
        "id": "162549da.18280e",
        "type": "function",
        "z": "a2bcb00b.1e8078",
        "name": "get first ",
        "func": "\nif (msg.payload.length > 0) {\n    msg.payload = msg.payload[0];\n}\n\nmsg.topic=msg.payload.name\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 881.5,
        "y": 756,
        "wires": [
            [
                "56ae16eb.f54e48",
                "4c2d266c.61c02",
                "5f8ffba5.0a13fc"
            ]
        ]
    },
    {
        "id": "4c2d266c.61c02",
        "type": "ui_dropdown",
        "z": "a2bcb00b.1e8078",
        "name": "",
        "label": "game",
        "tooltip": "which game tab this node is being used for",
        "place": "Select option",
        "group": "c8cc8e55.076268",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "",
                "value": "NONE",
                "type": "str"
            },
            {
                "label": "",
                "value": "megagame",
                "type": "str"
            },
            {
                "label": "",
                "value": "crickit",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1091.5,
        "y": 799,
        "wires": [
            []
        ]
    },
    {
        "id": "cfeb1d12.16fb8",
        "type": "ui_template",
        "z": "56184bd3.61c48c",
        "group": "96fd9a5c.532f38",
        "name": "All Entities",
        "order": 1,
        "width": "6",
        "height": "9",
        "format": "<table width=\"100%\">\n <tr><td>name</td><td>desc</td><td>actions</td></tr>\n <tr ng-repeat=\"(i, obj) in msg.payload\">\n   <td>\n     <md-button class=\"vibrate filled touched bigfont rounded fa fa-search\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({_id: obj._id, name: obj.name, button: \"configure\", payload: obj})'\n     target=\"_blank\">\n    {{obj.name}}<br/>\n    </md-button> \n   </td>\n<td>\n    {{obj.description}}\n   </td>\n  <td>\n     <md-button class=\"vibrate filled touched bigfont rounded fa fa-remove\" \n     style=\"background-color:#0000ff\" \n     ng-click='send({_id: obj._id, name: obj.name,  button: \"remove\", payload: obj})'\n     target=\"_blank\"></md-button> \n   </td>\n </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 440,
        "y": 576,
        "wires": [
            [
                "bd04651c.7e18a8",
                "2610ef80.c01d18"
            ]
        ]
    },
    {
        "id": "69a4f684.bff228",
        "type": "mongodb-node",
        "z": "56184bd3.61c48c",
        "mongodb": "788cee09.d64d1",
        "name": "",
        "collection": "entity_definitions",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 473.88330078125,
        "y": 495.25,
        "wires": [
            [
                "cfeb1d12.16fb8"
            ]
        ]
    },
    {
        "id": "23b4fd32.ca0b52",
        "type": "inject",
        "z": "56184bd3.61c48c",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 205.88330078125,
        "y": 475.699951171875,
        "wires": [
            [
                "9264b6a0.87e26"
            ]
        ]
    },
    {
        "id": "fa7ef732.615518",
        "type": "ui_form",
        "z": "56184bd3.61c48c",
        "name": "",
        "label": "Create New Entity type",
        "group": "47570ea5.be4f7",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Name",
                "value": "name",
                "type": "text",
                "required": true
            },
            {
                "label": "Description",
                "value": "description",
                "type": "text",
                "required": false
            },
            {
                "label": "Initial Value",
                "value": "value",
                "type": "number",
                "required": true
            }
        ],
        "formValue": {
            "name": "",
            "description": "",
            "value": ""
        },
        "payload": "",
        "submit": "Create",
        "cancel": "cancel",
        "topic": "",
        "x": 236.5,
        "y": 136,
        "wires": [
            [
                "36828dd2.86bd7a",
                "5eee7d96.9c206c"
            ]
        ]
    },
    {
        "id": "2d7f55b5.f115ea",
        "type": "function",
        "z": "56184bd3.61c48c",
        "name": "create new entity type",
        "func": "\n// what we're storing\nvar updatedb = {\n    query: {\"name\": msg.orig.name}, \n    payload: msg.orig,\n    collection: \"entity_definitions\",\n}\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 846,
        "y": 215,
        "wires": [
            [
                "9cdca1ab.8e3ea8",
                "3af2acf4.22b6f4"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "9cdca1ab.8e3ea8",
        "type": "mongodb-node",
        "z": "56184bd3.61c48c",
        "mongodb": "788cee09.d64d1",
        "name": "create entity",
        "collection": "",
        "operation": "update",
        "upsert": true,
        "multi": false,
        "x": 1046.38330078125,
        "y": 213.88330078125,
        "wires": [
            [
                "69e91338.9f44fc"
            ]
        ]
    },
    {
        "id": "4c043464.0d1b7c",
        "type": "mongodb-node",
        "z": "56184bd3.61c48c",
        "mongodb": "788cee09.d64d1",
        "name": "get entity",
        "collection": "entity_definitions",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 480,
        "y": 237,
        "wires": [
            [
                "373554c1.434e04",
                "1dfe2bf.1fbf454"
            ]
        ]
    },
    {
        "id": "36828dd2.86bd7a",
        "type": "change",
        "z": "56184bd3.61c48c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orig",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"name\": $.payload.name }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 181,
        "wires": [
            [
                "4c043464.0d1b7c",
                "617a995b.bede4"
            ]
        ]
    },
    {
        "id": "373554c1.434e04",
        "type": "switch",
        "z": "56184bd3.61c48c",
        "name": "doesn't exist",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 647.5,
        "y": 214,
        "wires": [
            [
                "2d7f55b5.f115ea"
            ]
        ]
    },
    {
        "id": "1dfe2bf.1fbf454",
        "type": "switch",
        "z": "56184bd3.61c48c",
        "name": "exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 634,
        "y": 265,
        "wires": [
            [
                "697a1208.023f74",
                "f6ef04b1.13d1f"
            ]
        ]
    },
    {
        "id": "697a1208.023f74",
        "type": "ui_toast",
        "z": "56184bd3.61c48c",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "topic": "Sorry, that entity already exists",
        "name": "",
        "x": 790.5,
        "y": 265,
        "wires": [
            []
        ]
    },
    {
        "id": "43eaddc9.ed25cc",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1135.5,
        "y": 727,
        "wires": []
    },
    {
        "id": "bd04651c.7e18a8",
        "type": "switch",
        "z": "56184bd3.61c48c",
        "name": "configure",
        "property": "button",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "configure",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 603,
        "y": 688,
        "wires": [
            [
                "e1a52711.5b929",
                "2845db49.1f0454",
                "c6b40b90.dc9d88",
                "bc164df.209153",
                "43eaddc9.ed25cc"
            ]
        ]
    },
    {
        "id": "9264b6a0.87e26",
        "type": "function",
        "z": "56184bd3.61c48c",
        "name": "send an empty msg",
        "func": "\nreturn {};",
        "outputs": 1,
        "noerr": 0,
        "x": 394.5,
        "y": 437,
        "wires": [
            [
                "69a4f684.bff228"
            ]
        ]
    },
    {
        "id": "2610ef80.c01d18",
        "type": "switch",
        "z": "56184bd3.61c48c",
        "name": "remove",
        "property": "button",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "remove",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 644,
        "y": 637,
        "wires": [
            [
                "f6ae2720.3ce5f"
            ]
        ]
    },
    {
        "id": "44231ed.b556c6",
        "type": "link in",
        "z": "56184bd3.61c48c",
        "name": "",
        "links": [
            "1f65becf.6dd599",
            "e1a52711.5b929",
            "69e91338.9f44fc",
            "49d5c25a.8616a4"
        ],
        "x": 250.5,
        "y": 417,
        "wires": [
            [
                "9264b6a0.87e26"
            ]
        ]
    },
    {
        "id": "1f65becf.6dd599",
        "type": "link out",
        "z": "56184bd3.61c48c",
        "name": "refresh-types",
        "links": [
            "44231ed.b556c6"
        ],
        "x": 1164.5,
        "y": 637,
        "wires": []
    },
    {
        "id": "e1a52711.5b929",
        "type": "link out",
        "z": "56184bd3.61c48c",
        "name": "refresh-types",
        "links": [
            "44231ed.b556c6"
        ],
        "x": 855,
        "y": 684,
        "wires": []
    },
    {
        "id": "69e91338.9f44fc",
        "type": "link out",
        "z": "56184bd3.61c48c",
        "name": "refresh-types",
        "links": [
            "44231ed.b556c6"
        ],
        "x": 1161,
        "y": 240,
        "wires": []
    },
    {
        "id": "ffd66656.b040e",
        "type": "mongodb-node",
        "z": "56184bd3.61c48c",
        "mongodb": "788cee09.d64d1",
        "name": "remove entity",
        "collection": "entity_definitions",
        "operation": "delete",
        "upsert": false,
        "multi": false,
        "x": 1008,
        "y": 636,
        "wires": [
            [
                "1f65becf.6dd599"
            ]
        ]
    },
    {
        "id": "f6ae2720.3ce5f",
        "type": "function",
        "z": "56184bd3.61c48c",
        "name": "remove entity type",
        "func": "\n// what we're removing\nvar updatedb = {\n    //payload: {\"_id\": msg.obj._id}, \n    payload: {\"name\": msg.payload.name}, \n    collection: \"entity_definitions\",\n}\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 811,
        "y": 637,
        "wires": [
            [
                "ffd66656.b040e"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "d96ff9b0.c97058",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "\nreturn msg;",
        "workspaceXml": "",
        "outputs": 1,
        "name": "",
        "x": 438.10008239746094,
        "y": 715.0000104904175,
        "wires": [
            [
                "91a319f8.f02078",
                "3fd50064.e7c13"
            ]
        ]
    },
    {
        "id": "91a319f8.f02078",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "\nreturn msg;",
        "workspaceXml": "",
        "outputs": 1,
        "name": "",
        "x": 662.1000595092773,
        "y": 716.0000123977661,
        "wires": [
            [
                "ce9c02bb.3599e"
            ]
        ]
    },
    {
        "id": "ce9c02bb.3599e",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "\nreturn msg;",
        "workspaceXml": "",
        "outputs": 1,
        "name": "",
        "x": 875.1000595092773,
        "y": 721.0000095367432,
        "wires": [
            []
        ]
    },
    {
        "id": "3fd50064.e7c13",
        "type": "Blockly",
        "z": "7ac82fd.18abfd",
        "language": "en",
        "func": "\nreturn msg;",
        "workspaceXml": "",
        "outputs": 1,
        "name": "",
        "x": 677.1000595092773,
        "y": 615.0000095367432,
        "wires": [
            []
        ]
    },
    {
        "id": "11f61171.08be77",
        "type": "inject",
        "z": "6d99db19.c577c4",
        "name": "A",
        "topic": "",
        "payload": "A",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 259.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "82c8979f.94845",
        "type": "inject",
        "z": "6d99db19.c577c4",
        "name": "B",
        "topic": "",
        "payload": "B",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 319.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "c8d78bf7.d233d",
        "type": "inject",
        "z": "6d99db19.c577c4",
        "name": "C",
        "topic": "",
        "payload": "C",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 379.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "f6416de4.d66618",
        "type": "inject",
        "z": "6d99db19.c577c4",
        "name": "D",
        "topic": "",
        "payload": "D",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 439.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "293955de.81a4ba",
        "type": "function",
        "z": "6d99db19.c577c4",
        "name": "StringEvaluator",
        "func": "const gameArray = flow.get('currentSet') || [];\nconst winnerSet = flow.get('winnerSet');\nlet totalWon = flow.get('totalWin') || 0;\nlet totalLost = flow.get('totalLose') || 0;\nmsg.result = ''; \n//let gameArrayReset = flow.get('reset') || false;\n\ngameArray.push(msg.payload);\n\nflow.set('currentSet', gameArray);\n\nmsg.array = gameArray.join('');\n\nif(gameArray.length === winnerSet.length) {\n    \n    const gameString = gameArray.join('');\n    \n    if(gameString == winnerSet) {\n        msg.result = \"you win\";\n        flow.set('currentSet', []);\n        totalWon++;\n        flow.set('totalWin', totalWon);\n    }\n    else {\n        msg.result = \"you lose\";\n        flow.set('currentSet', []);\n        totalLost++;\n        flow.set('totalLose', totalLost);\n    }\n}\n\nmsg.won = flow.get('totalWin');\nmsg.lost = flow.get('totalLose');\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 590,
        "y": 359.0000047683716,
        "wires": [
            [
                "7743a8dc.7afed8",
                "f7d1623f.2a7f78",
                "766d8509.2afb74"
            ]
        ]
    },
    {
        "id": "2dad66b8.8b7b8a",
        "type": "ui_text_input",
        "z": "6d99db19.c577c4",
        "name": "winnerStringInput",
        "label": "Set solution",
        "tooltip": "",
        "group": "7e492dab.31e12c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 350,
        "y": 599.0000047683716,
        "wires": [
            [
                "73eb3c08.c3207c"
            ]
        ]
    },
    {
        "id": "f7e19acb.d536f8",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "",
        "group": "7e492dab.31e12c",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "A",
        "payloadType": "str",
        "topic": "",
        "x": 328,
        "y": 289,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "5f03dd0e.726e7c",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "",
        "group": "7e492dab.31e12c",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "B",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "B",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 339.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "c992c5b8.7016b",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "",
        "group": "7e492dab.31e12c",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "C",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 399.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "e9a10c16.38db68",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "",
        "group": "7e492dab.31e12c",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "D",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "D",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 459.0000047683716,
        "wires": [
            [
                "293955de.81a4ba"
            ]
        ]
    },
    {
        "id": "73eb3c08.c3207c",
        "type": "function",
        "z": "6d99db19.c577c4",
        "name": "setWinnerString",
        "func": "let stringInput = msg.payload;\n\nnode.log(stringInput);\n\nflow.set(\"winnerSet\", stringInput);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 580,
        "y": 599.0000047683716,
        "wires": [
            []
        ]
    },
    {
        "id": "7743a8dc.7afed8",
        "type": "ui_text",
        "z": "6d99db19.c577c4",
        "group": "b3cf511d.ea3898",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "your input",
        "format": "{{msg.array}}",
        "layout": "row-spread",
        "x": 800,
        "y": 279.0000047683716,
        "wires": []
    },
    {
        "id": "ff332db9.308698",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "resetButton",
        "group": "7e492dab.31e12c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Game",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 330,
        "y": 199.00000476837158,
        "wires": [
            [
                "164d34b1.e9e01b"
            ]
        ]
    },
    {
        "id": "164d34b1.e9e01b",
        "type": "function",
        "z": "6d99db19.c577c4",
        "name": "reset currentSet",
        "func": "flow.set('currentSet', []);\nmsg.array = '';\nmsg.result = ''; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 600,
        "y": 239.00000476837158,
        "wires": [
            [
                "7743a8dc.7afed8",
                "f7d1623f.2a7f78"
            ]
        ]
    },
    {
        "id": "f7d1623f.2a7f78",
        "type": "ui_text",
        "z": "6d99db19.c577c4",
        "group": "ff88e6f9.aaa368",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "result",
        "format": "{{msg.result}}",
        "layout": "row-spread",
        "x": 810,
        "y": 379.0000047683716,
        "wires": []
    },
    {
        "id": "766d8509.2afb74",
        "type": "ui_template",
        "z": "6d99db19.c577c4",
        "group": "ff88e6f9.aaa368",
        "name": "Stats Table",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<div>\n    <table mat-table>\n    <thead>\n        <tr>\n            <th>Won</th>\n            <th>Lost</th>\n        </tr>\n    </thead>\n        <tbody>\n        <tr>\n            <td ng-bind-html=\"msg.won\"></td>\n            <td ng-bind-html=\"msg.lost\"></td>\n        </tr>\n    </tbody>\n    </table>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 830,
        "y": 439.0000047683716,
        "wires": [
            []
        ]
    },
    {
        "id": "63f20323.a59ef4",
        "type": "ui_button",
        "z": "6d99db19.c577c4",
        "name": "",
        "group": "ff88e6f9.aaa368",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset game stats btn",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 360,
        "y": 519.0000047683716,
        "wires": [
            [
                "60679a2f.421b94"
            ]
        ]
    },
    {
        "id": "60679a2f.421b94",
        "type": "function",
        "z": "6d99db19.c577c4",
        "name": "Reset game stats",
        "func": "flow.set('totalWin', 0);\nflow.set('totalLose', 0);\n\nmsg.won = 0;\nmsg.lost = 0;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 597,
        "y": 519.0000047683716,
        "wires": [
            [
                "766d8509.2afb74"
            ]
        ]
    },
    {
        "id": "a6a41360.e855f",
        "type": "comment",
        "z": "56184bd3.61c48c",
        "name": "This will be the data model definition system",
        "info": "I need this to define not only the entities that Time and the designers will use, but also to define what the hardware nodes can do, what game they're associated with and more.",
        "x": 276.5,
        "y": 76,
        "wires": []
    },
    {
        "id": "5f8ffba5.0a13fc",
        "type": "ui_text",
        "z": "a2bcb00b.1e8078",
        "group": "c8cc8e55.076268",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Name",
        "format": "{{msg.payload.name}}",
        "layout": "row-spread",
        "x": 1083,
        "y": 705,
        "wires": []
    },
    {
        "id": "49b3f196.f0e698",
        "type": "comment",
        "z": "a2bcb00b.1e8078",
        "name": "This should become abstracted using the entity types into some form of \"edit entity node\"",
        "info": "",
        "x": 620.5,
        "y": 643,
        "wires": []
    },
    {
        "id": "c6b40b90.dc9d88",
        "type": "ui_text",
        "z": "56184bd3.61c48c",
        "group": "25c16085.919ed8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{msg.payload.description}}",
        "layout": "row-spread",
        "x": 890.5,
        "y": 809,
        "wires": []
    },
    {
        "id": "2845db49.1f0454",
        "type": "ui_text",
        "z": "56184bd3.61c48c",
        "group": "25c16085.919ed8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Name",
        "format": "{{msg.payload.name}}",
        "layout": "row-spread",
        "x": 872,
        "y": 762,
        "wires": []
    },
    {
        "id": "bc164df.209153",
        "type": "ui_text",
        "z": "56184bd3.61c48c",
        "group": "25c16085.919ed8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ID",
        "format": "{{msg.payload._id}}",
        "layout": "row-spread",
        "x": 865,
        "y": 867,
        "wires": []
    },
    {
        "id": "89f464e9.eb744",
        "type": "mqtt in",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "+/+/twinkle",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 748.5000076293945,
        "y": 170.99998950958252,
        "wires": [
            [
                "eccf3fde.c91ff8"
            ]
        ]
    },
    {
        "id": "eccf3fde.c91ff8",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1023.5,
        "y": 172,
        "wires": []
    },
    {
        "id": "dbcff4ba.825828",
        "type": "ui_colour_picker",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "",
        "group": "892a7789.18fa48",
        "format": "rgb",
        "outformat": "object",
        "showSwatch": true,
        "showPicker": true,
        "showValue": true,
        "showHue": true,
        "showAlpha": false,
        "showLightness": true,
        "dynOutput": "false",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 398.50001525878906,
        "y": 38.999996185302734,
        "wires": [
            [
                "87c46038.87576"
            ]
        ]
    },
    {
        "id": "c2166bc1.9e5e38",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "all/neopixel/twinkle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1078.5,
        "y": 73.99999618530273,
        "wires": []
    },
    {
        "id": "87c46038.87576",
        "type": "change",
        "z": "8c5f11d4.d0087",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.operation",
                "pt": "msg",
                "to": "setrgb",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 645.5,
        "y": 43.999996185302734,
        "wires": [
            [
                "c2166bc1.9e5e38",
                "12dd8527.d24a73"
            ]
        ]
    },
    {
        "id": "e4f31077.c17f48",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "892a7789.18fa48",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "All twinkle",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"operation\":\"twinkle\",\"duration\":2000}",
        "payloadType": "json",
        "topic": "all.neopixel/twinkle",
        "x": 875.5000305175781,
        "y": 37,
        "wires": [
            [
                "c2166bc1.9e5e38",
                "eccf3fde.c91ff8"
            ]
        ]
    },
    {
        "id": "53674064.602db8",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "892a7789.18fa48",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "All off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"operation\":\"setrgb\",\"red\":0,\"green\":0,\"blue\":0}",
        "payloadType": "json",
        "topic": "all.neopixel/twinkle",
        "x": 1060.0000305175781,
        "y": 20,
        "wires": [
            [
                "c2166bc1.9e5e38"
            ]
        ]
    },
    {
        "id": "a72e0b81.564fc8",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "motor speed",
        "tooltip": "",
        "group": "5745a925.0d3ea",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "-100",
        "max": "100",
        "step": 1,
        "x": 264.5000228881836,
        "y": 239.99998664855957,
        "wires": [
            [
                "7fd5e975.081498"
            ]
        ]
    },
    {
        "id": "647dd3ee.a7d594",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "all/motor/speed",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 780.0000228881836,
        "y": 273.99998664855957,
        "wires": []
    },
    {
        "id": "7fd5e975.081498",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    motorb: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 428.5000228881836,
        "y": 237.99998664855957,
        "wires": [
            [
                "647dd3ee.a7d594",
                "eccf3fde.c91ff8"
            ]
        ]
    },
    {
        "id": "31c291d0.70011e",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "5745a925.0d3ea",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "All off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "all.neopixel/twinkle",
        "x": 282.0000228881836,
        "y": 312.99998664855957,
        "wires": [
            [
                "7fd5e975.081498",
                "a72e0b81.564fc8"
            ]
        ]
    },
    {
        "id": "7850bf6a.a9406",
        "type": "mqtt in",
        "z": "56184bd3.61c48c",
        "name": "Node requests config",
        "topic": "+/deployment/requestconfig",
        "qos": "2",
        "datatype": "json",
        "broker": "8f313a3c.9e2c2",
        "x": 607,
        "y": 1197,
        "wires": [
            [
                "4bf8c3ac.3e32bc",
                "63457e30.a05988"
            ]
        ]
    },
    {
        "id": "315c0cc6.4eec8c",
        "type": "mqtt out",
        "z": "56184bd3.61c48c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1089.7000122070312,
        "y": 1220.2000274658203,
        "wires": []
    },
    {
        "id": "63457e30.a05988",
        "type": "change",
        "z": "56184bd3.61c48c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.config",
                "pt": "msg",
                "to": "{\"deployments\":{\"megagame\":{\"ping\":{\"type\":\"ping\"}},\"tiki\":{\"ping\":{\"type\":\"ping\"}}},\"hosts\":{\"go\":{\"type\":\"megagame\"},\"yoga260\":{\"type\":\"tiki\"},\"void-detector\":{\"type\":\"tiki\"}}}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "yoga260/deployment/update_config",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 838.6999969482422,
        "y": 1269.3999938964844,
        "wires": [
            [
                "315c0cc6.4eec8c",
                "4bf8c3ac.3e32bc"
            ]
        ]
    },
    {
        "id": "96b178dc.2ad2f8",
        "type": "comment",
        "z": "56184bd3.61c48c",
        "name": "send config to go host - wip",
        "info": "",
        "x": 325.70001220703125,
        "y": 1194.8000030517578,
        "wires": []
    },
    {
        "id": "4bf8c3ac.3e32bc",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "test",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1125.2000122070312,
        "y": 1397.8000030517578,
        "wires": []
    },
    {
        "id": "21b36d74.f74c8a",
        "type": "mqtt in",
        "z": "ac951a93.256c18",
        "name": "",
        "topic": "+/rfid/scan",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 157,
        "y": 115,
        "wires": [
            [
                "82cd872f.91681"
            ]
        ]
    },
    {
        "id": "82cd872f.91681",
        "type": "json",
        "z": "ac951a93.256c18",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 381,
        "y": 173,
        "wires": [
            [
                "c09468bf.0fdeb8",
                "a871dd66.89de78"
            ]
        ]
    },
    {
        "id": "a871dd66.89de78",
        "type": "debug",
        "z": "ac951a93.256c18",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 815,
        "y": 128,
        "wires": []
    },
    {
        "id": "c09468bf.0fdeb8",
        "type": "mqtt out",
        "z": "ac951a93.256c18",
        "name": "",
        "topic": "all/audio/midi",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 847,
        "y": 222,
        "wires": []
    },
    {
        "id": "e3c58969.390278",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            }
        ],
        "x": 1231.5,
        "y": 131,
        "wires": []
    },
    {
        "id": "83c79421.c04798",
        "type": "mqtt in",
        "z": "e4159f46.a12b",
        "name": "",
        "topic": "+/speech-recognition/phrase_matched",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 305.5,
        "y": 209,
        "wires": [
            [
                "f4f0a1cc.b5c038"
            ]
        ]
    },
    {
        "id": "f4f0a1cc.b5c038",
        "type": "json",
        "z": "e4159f46.a12b",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 579,
        "y": 208,
        "wires": [
            [
                "a26a693b.82c348"
            ]
        ]
    },
    {
        "id": "804b5692.c4901",
        "type": "subflow:e4159f46.a12b",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [],
        "x": 144.5,
        "y": 279,
        "wires": [
            [
                "44248c58.b0404c",
                "a990d2d3.9391a8"
            ]
        ]
    },
    {
        "id": "a26a693b.82c348",
        "type": "switch",
        "z": "e4159f46.a12b",
        "name": "",
        "property": "payload.phrase",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 753.5,
        "y": 209,
        "wires": [
            []
        ]
    },
    {
        "id": "8b070db9.cd33d8",
        "type": "comment",
        "z": "ab1febba.03f0b8",
        "name": "Really basic flow for the totem (just testing)",
        "info": "Currently all we want is to have lights and sounds triggered by a speech recognition service that runs on the pi",
        "x": 226.5,
        "y": 124,
        "wires": []
    },
    {
        "id": "44248c58.b0404c",
        "type": "debug",
        "z": "ab1febba.03f0b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.phrase",
        "targetType": "msg",
        "x": 143.5,
        "y": 351,
        "wires": []
    },
    {
        "id": "d3cc7671.adeb1",
        "type": "subflow:13b2145a.48d5ec",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            }
        ],
        "x": 1220,
        "y": 97,
        "wires": []
    },
    {
        "id": "db7ead8f.7039a8",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Create-neopixel-msg-rainbow",
        "func": "var newmsg = {\n    payload: {\n        operation: \"set\",\n        colour: \"green\",\n        count: 99\n    },\n    topic: \"two/neopixel-level/play\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1001.5,
        "y": 97,
        "wires": [
            [
                "d3cc7671.adeb1",
                "e3c58969.390278"
            ]
        ]
    },
    {
        "id": "4f03db9c.e574b4",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Create-neopixel-msg-red",
        "func": "var newmsg = {\n    payload: {\n        operation: \"set\",\n        colour: \"red\",\n        count: 99\n    },\n    topic: \"two/neopixel-level/play\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1355,
        "y": 731,
        "wires": [
            [
                "58f5b494.dff84c",
                "2b0dd5b7.d5fa4a"
            ]
        ]
    },
    {
        "id": "2b0dd5b7.d5fa4a",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster12.mp3"
            }
        ],
        "x": 1570,
        "y": 692,
        "wires": []
    },
    {
        "id": "a990d2d3.9391a8",
        "type": "switch",
        "z": "ab1febba.03f0b8",
        "name": "",
        "property": "payload.phrase",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "2",
                "v2t": "num"
            },
            {
                "t": "eq",
                "v": "97",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "98",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "99",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 338,
        "y": 292,
        "wires": [
            [
                "c15a6030.c588a"
            ],
            [],
            [],
            [
                "36556a38.3ad2f6",
                "55e585e4.316f0c",
                "22ccbf73.c97e4"
            ]
        ]
    },
    {
        "id": "58f5b494.dff84c",
        "type": "subflow:13b2145a.48d5ec",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            }
        ],
        "x": 1561,
        "y": 735,
        "wires": []
    },
    {
        "id": "36556a38.3ad2f6",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Create-neopixel-msg-off",
        "func": "var newmsg = {\n    payload: {\n        operation: \"set\",\n        colour: \"off\",\n        count: 99\n    },\n    topic: \"two/neopixel-level/play\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 979,
        "y": 447,
        "wires": [
            [
                "2b25093.c0f74f6",
                "a71a7436.e6fc18"
            ]
        ]
    },
    {
        "id": "2b25093.c0f74f6",
        "type": "subflow:13b2145a.48d5ec",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "colour",
                "type": "str",
                "value": "cyan"
            },
            {
                "name": "count",
                "type": "num",
                "value": "99"
            }
        ],
        "x": 1184,
        "y": 448,
        "wires": []
    },
    {
        "id": "a71a7436.e6fc18",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            }
        ],
        "x": 1196,
        "y": 482,
        "wires": []
    },
    {
        "id": "eb449bc5.783778",
        "type": "comment",
        "z": "ab1febba.03f0b8",
        "name": "OWARI I AM HERE - MAIN TRIGGER",
        "info": "",
        "x": 920.5,
        "y": 658,
        "wires": []
    },
    {
        "id": "dbdbae07.82e968",
        "type": "comment",
        "z": "ab1febba.03f0b8",
        "name": "FOLLY GAMES - TEST TRIGGER",
        "info": "",
        "x": 1005,
        "y": 60,
        "wires": []
    },
    {
        "id": "d24b32d6.5b0e38",
        "type": "comment",
        "z": "ab1febba.03f0b8",
        "name": "TOTEM PLEASE RESET ALL PUZZLES - RESET TRIGGER",
        "info": "",
        "x": 1088,
        "y": 408,
        "wires": []
    },
    {
        "id": "f3117799.2cb0b",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Create-neopixel-msg",
        "func": "var newmsg = {\n    payload: {\n        operation: \"set\",\n        colour: \"off\",\n        count: 99\n    },\n    topic: \"two/neopixel-level/play\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 976,
        "y": 292,
        "wires": [
            [
                "94a5312d.7d11b",
                "6d9bae3c.902e9"
            ]
        ]
    },
    {
        "id": "94a5312d.7d11b",
        "type": "subflow:13b2145a.48d5ec",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "colour",
                "type": "str",
                "value": "off"
            },
            {
                "name": "count",
                "type": "num",
                "value": "99"
            }
        ],
        "x": 1178,
        "y": 293,
        "wires": []
    },
    {
        "id": "6d9bae3c.902e9",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster23.mp3"
            }
        ],
        "x": 1189,
        "y": 333,
        "wires": []
    },
    {
        "id": "2391c43a.194924",
        "type": "comment",
        "z": "ab1febba.03f0b8",
        "name": "nope",
        "info": "",
        "x": 923,
        "y": 256,
        "wires": []
    },
    {
        "id": "16344331.449add",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 642.5,
        "y": 113,
        "wires": [
            [
                "db7ead8f.7039a8",
                "bf0862cd.a896c8"
            ]
        ]
    },
    {
        "id": "8e2e7279.219098",
        "type": "mqtt out",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "all/neopixel/twinkle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1252,
        "y": 179,
        "wires": []
    },
    {
        "id": "bf0862cd.a896c8",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Set-string-light-red",
        "func": "var newmsg = {\n    payload: {\n        operation: \"setrgb\",\n        r: 0,\n        g: 255,\n        b: 0,\n        a: 1\n    },\n    topic: \"all.neopixel/twinkle\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1028,
        "y": 178,
        "wires": [
            [
                "8e2e7279.219098"
            ]
        ]
    },
    {
        "id": "779172ad.d52984",
        "type": "mqtt out",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "all/neopixel/twinkle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1216,
        "y": 520,
        "wires": []
    },
    {
        "id": "55e585e4.316f0c",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Set-string-light-red",
        "func": "var newmsg = {\n    payload: {\n        operation: \"setrgb\",\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 1\n    },\n    topic: \"all.neopixel/twinkle\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 965,
        "y": 521,
        "wires": [
            [
                "779172ad.d52984"
            ]
        ]
    },
    {
        "id": "90229645.b44e7",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "Inject Reset",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 226,
        "y": 690,
        "wires": [
            [
                "36556a38.3ad2f6",
                "55e585e4.316f0c",
                "22ccbf73.c97e4"
            ]
        ]
    },
    {
        "id": "2c201949.0459d6",
        "type": "mqtt out",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "all/neopixel/twinkle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1593,
        "y": 777,
        "wires": []
    },
    {
        "id": "9fc50c5f.ed253",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "Set-string-light-red",
        "func": "var newmsg = {\n    payload: {\n        operation: \"setrgb\",\n        r: 255,\n        g: 0,\n        b: 0,\n        a: 1\n    },\n    topic: \"all.neopixel/twinkle\"\n};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1335,
        "y": 774,
        "wires": [
            [
                "2c201949.0459d6"
            ]
        ]
    },
    {
        "id": "f64d5bc.0be4da8",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1127,
        "y": 712,
        "wires": [
            [
                "4f03db9c.e574b4",
                "9fc50c5f.ed253"
            ]
        ]
    },
    {
        "id": "a294e71b.2943f",
        "type": "subflow:e7cf18e0.b03f58",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [],
        "x": 152.5,
        "y": 870,
        "wires": [
            [
                "6e15e176.2d84f",
                "b7e6d805.076cf"
            ]
        ]
    },
    {
        "id": "6e15e176.2d84f",
        "type": "debug",
        "z": "ab1febba.03f0b8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.tag",
        "targetType": "msg",
        "x": 234,
        "y": 967,
        "wires": []
    },
    {
        "id": "ddf21796.0aa1f",
        "type": "switch",
        "z": "ab1febba.03f0b8",
        "name": "",
        "property": "payload.tag",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "D39284D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "23E0D5D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "639681D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "13BDD9D1",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 508.5,
        "y": 871,
        "wires": [
            [
                "a0f02764.1056a8",
                "9fc40bb6.40785"
            ],
            [
                "a0f02764.1056a8",
                "9fc40bb6.40785"
            ],
            [
                "a0f02764.1056a8",
                "9fc40bb6.40785"
            ],
            [
                "a0f02764.1056a8",
                "9fc40bb6.40785"
            ]
        ]
    },
    {
        "id": "b7e6d805.076cf",
        "type": "delay",
        "z": "ab1febba.03f0b8",
        "name": "RFID-repeat filter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 335.5,
        "y": 871,
        "wires": [
            [
                "ddf21796.0aa1f"
            ]
        ]
    },
    {
        "id": "a0f02764.1056a8",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "RfidMultiLockWithSequence",
        "func": "context.data = context.data || {};\n\nif (!context.data.hasOwnProperty(\"sequence\")) {\n    context.data.sequence = [];\n}\n\nif (msg.payload == \"RESET\")\n{\n    context.data = null;\n    msg.payload = 0;\n    return msg;\n}\n\nswitch(msg.payload.tag) {\n    case \"D39284D1\":\n        if(context.data.rfid1 !== true) {\n            context.data.sequence.push(1);\n            context.data.rfid1 = true;\n        }\n        msg.payload = 0;\n        break;\n    case \"23E0D5D1\":\n        if(context.data.rfid2 !== true){\n            context.data.sequence.push(2);\n            context.data.rfid2 = true;\n        }\n        msg.payload = 0;\n        break;\n    case \"639681D1\":\n        if(context.data.rfid3 !== true){\n            context.data.sequence.push(3);\n            context.data.rfid3 = true;\n        }\n        msg.payload = 0;\n        break;\n    case \"13BDD9D1\":\n        if(context.data.rfid4 !== true){\n            context.data.sequence.push(4);\n            context.data.rfid4 = true;\n        }\n        msg.payload = 0;\n        break;\n    default:\n        msg.payload = 0;\n        break;\n}\n\nmsg.sequence = context.data.sequence\n\nif (context.data.rfid1 === true && context.data.rfid2 === true && context.data.rfid3 === true && context.data.rfid4 === true) {\n    if (context.data.sequence[0] == 1 && context.data.sequence[1] == 2 && context.data.sequence[2] == 3 && context.data.sequence[3] == 4) {\n        msg.payload = 1\n    } else {\n        msg.payload = 2\n    }\n    context.data.sequence = null;\n} else {\n    msg.payload = 0;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 742.5,
        "y": 876,
        "wires": [
            [
                "15c1b4f5.00326b",
                "35d3a14d.28768e",
                "9236ed45.5ded8",
                "fac3d9dd.2bd5e"
            ]
        ]
    },
    {
        "id": "e6f6c410.bfee48",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster22.mp3"
            }
        ],
        "x": 1377,
        "y": 850,
        "wires": []
    },
    {
        "id": "15c1b4f5.00326b",
        "type": "switch",
        "z": "ab1febba.03f0b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100.5,
        "y": 875,
        "wires": [
            [
                "3c95438a.fa020c"
            ],
            [
                "a2ade8c5.d6b9b"
            ]
        ]
    },
    {
        "id": "35d3a14d.28768e",
        "type": "debug",
        "z": "ab1febba.03f0b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 994,
        "y": 916,
        "wires": []
    },
    {
        "id": "9236ed45.5ded8",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "RfidAndVoiceMultiLock",
        "func": "context.data = context.data || {};\n\nif (msg.payload == \"RESET\")\n{\n    context.data = null;\n    msg.payload = 0;\n    return msg;\n}\n\nswitch(msg.payload) {\n    case 1:\n    case 2:\n        context.data.tag = true;\n        msg.payload = 0;\n        break;\n    case 100:\n        if (context.data.tag === true) {\n            context.data.voice = true;\n        }\n        msg.payload = 0;\n        break;\n    default:\n        msg.payload = 0;\n        break;\n}\n\nif (context.data.tag === true && context.data.voice === true) {\n    context.data.tag=null;\n    context.data.voice = null;\n    msg.payload = 1;\n} else {\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 955,
        "y": 755,
        "wires": [
            [
                "90eff795.c76a28"
            ]
        ]
    },
    {
        "id": "c15a6030.c588a",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "",
        "func": "msg.payload=100\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 765.5,
        "y": 707,
        "wires": [
            [
                "9236ed45.5ded8",
                "e7e20713.44c3c"
            ]
        ]
    },
    {
        "id": "90eff795.c76a28",
        "type": "switch",
        "z": "ab1febba.03f0b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1128,
        "y": 754,
        "wires": [
            [
                "4f03db9c.e574b4",
                "9fc50c5f.ed253"
            ]
        ]
    },
    {
        "id": "e7e20713.44c3c",
        "type": "debug",
        "z": "ab1febba.03f0b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 950.5,
        "y": 716,
        "wires": []
    },
    {
        "id": "9fc40bb6.40785",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster23.mp3"
            }
        ],
        "x": 723.5,
        "y": 968,
        "wires": []
    },
    {
        "id": "3c95438a.fa020c",
        "type": "delay",
        "z": "ab1febba.03f0b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1230.5,
        "y": 851,
        "wires": [
            [
                "e6f6c410.bfee48"
            ]
        ]
    },
    {
        "id": "fac3d9dd.2bd5e",
        "type": "debug",
        "z": "ab1febba.03f0b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "sequence",
        "targetType": "msg",
        "x": 1002,
        "y": 961,
        "wires": []
    },
    {
        "id": "838adbe8.81d04",
        "type": "subflow:2e99692c.076a7e",
        "z": "ab1febba.03f0b8",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster7.mp3"
            }
        ],
        "x": 1378,
        "y": 898,
        "wires": []
    },
    {
        "id": "a2ade8c5.d6b9b",
        "type": "delay",
        "z": "ab1febba.03f0b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1231.5,
        "y": 899,
        "wires": [
            [
                "838adbe8.81d04"
            ]
        ]
    },
    {
        "id": "322872c6.8eb52e",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 781,
        "y": 292,
        "wires": [
            [
                "f3117799.2cb0b"
            ]
        ]
    },
    {
        "id": "f2972b80.7ffb88",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "Inject Failue",
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 732,
        "y": 818,
        "wires": [
            [
                "9236ed45.5ded8",
                "15c1b4f5.00326b"
            ]
        ]
    },
    {
        "id": "22ccbf73.c97e4",
        "type": "function",
        "z": "ab1febba.03f0b8",
        "name": "create_reset_msg",
        "func": "msg.payload=\"RESET\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 506,
        "y": 739,
        "wires": [
            [
                "9236ed45.5ded8",
                "a0f02764.1056a8"
            ]
        ]
    },
    {
        "id": "f076a36a.8d8698",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "Inject Success",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 728,
        "y": 778,
        "wires": [
            [
                "9236ed45.5ded8",
                "15c1b4f5.00326b"
            ]
        ]
    },
    {
        "id": "14309891.582277",
        "type": "inject",
        "z": "ab1febba.03f0b8",
        "name": "Inject Correct voice",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 543,
        "y": 685,
        "wires": [
            [
                "c15a6030.c588a"
            ]
        ]
    },
    {
        "id": "579f15d9.5c235c",
        "type": "mqtt in",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "+/+/touch",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 199,
        "y": 495,
        "wires": [
            [
                "8e31c33b.e874c8",
                "5aaa01d.6c15c8"
            ]
        ]
    },
    {
        "id": "8e31c33b.e874c8",
        "type": "json",
        "z": "8c5f11d4.d0087",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 195,
        "y": 556,
        "wires": [
            [
                "e81587dd.0a4cc8"
            ]
        ]
    },
    {
        "id": "43324b6a.50d1e4",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "create new entity type",
        "func": "// what we're storing\nvar updatedb = {\n    query: {\"name\": msg.topic}, \n    payload: { },\n    collection: \"touch_info\",\n    orig: msg.orig,\n}\nif (msg.payload.length > 0) {\n    updatedb.payload = msg.payload[0];\n    updatedb.query = {\"_id\": updatedb.payload._id};\n}\nupdatedb.payload.name = msg.topic;\nupdatedb.payload.device = msg.orig.device;\nupdatedb.payload.time = msg.orig.time;\n\nfor (var key in msg.orig) {\n   if (msg.orig.hasOwnProperty(key)) {\n      //var value = validation_messages[key];\n      updatedb.payload[key] = msg.orig[key];\n   }\n}\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 678.5,
        "y": 644,
        "wires": [
            [
                "99bea69b.857928"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "99bea69b.857928",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "update entity",
        "collection": "",
        "operation": "update",
        "upsert": false,
        "multi": false,
        "x": 878.88330078125,
        "y": 643.88330078125,
        "wires": [
            [
                "aaaaf43d.5dc668"
            ]
        ]
    },
    {
        "id": "b55231db.9d0158",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "get entity",
        "collection": "touch_info",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 333.5,
        "y": 609,
        "wires": [
            [
                "7743f03b.38356",
                "516697b6.95fd"
            ]
        ]
    },
    {
        "id": "e81587dd.0a4cc8",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "\nmsg.orig = msg.payload;\nmsg.name = msg.topic;\nmsg.payload = msg.name;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 194,
        "y": 609,
        "wires": [
            [
                "b55231db.9d0158"
            ]
        ]
    },
    {
        "id": "47f5582f.c4ab6",
        "type": "catch",
        "z": "8c5f11d4.d0087",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 1175,
        "y": 309,
        "wires": [
            [
                "71df0d14.7eb1e4"
            ]
        ]
    },
    {
        "id": "71df0d14.7eb1e4",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1298,
        "y": 312.33331298828125,
        "wires": []
    },
    {
        "id": "516697b6.95fd",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "doesn't exist",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 484,
        "y": 600,
        "wires": [
            [
                "ff40e6c2.0d0b2"
            ]
        ]
    },
    {
        "id": "7743f03b.38356",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 474.5,
        "y": 644,
        "wires": [
            [
                "43324b6a.50d1e4"
            ]
        ]
    },
    {
        "id": "ff40e6c2.0d0b2",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "create new entity type",
        "func": "\n// what we're storing\nvar updatedb = {\n    query: {\"name\": msg.topic}, \n    payload: { },\n    collection: \"touch_info\",\n    orig: msg.orig,\n}\nif (msg.payload.length > 0) {\n    updatedb.payload = msg.payload[0];\n    updatedb.query = {\"_id\": updatedb.payload._id};\n}\nupdatedb.payload.name = msg.topic;\nupdatedb.payload.device = msg.orig.device;\nupdatedb.payload.time = msg.orig.time;\n\nfor (var key in msg.orig) {\n   if (msg.orig.hasOwnProperty(key)) {\n      //var value = validation_messages[key];\n      updatedb.payload[key] = msg.orig[key];\n   }\n}\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 600,
        "wires": [
            [
                "6e225531.c7afdc"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "6e225531.c7afdc",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "create entity",
        "collection": "touch_info",
        "operation": "insert",
        "upsert": true,
        "multi": false,
        "x": 877.38330078125,
        "y": 599.88330078125,
        "wires": [
            [
                "aaaaf43d.5dc668"
            ]
        ]
    },
    {
        "id": "dc56756.2a99c88",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "remote entity",
        "collection": "touch_info",
        "operation": "delete",
        "upsert": true,
        "multi": false,
        "x": 876,
        "y": 552,
        "wires": [
            [
                "aaaaf43d.5dc668"
            ]
        ]
    },
    {
        "id": "b8bc68e2.456db",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "eceb2496.ca9fd8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "remove all",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{}",
        "payloadType": "json",
        "topic": "",
        "x": 706,
        "y": 551,
        "wires": [
            [
                "dc56756.2a99c88"
            ]
        ]
    },
    {
        "id": "80e68db8.1dea1",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "get entity",
        "collection": "touch_info",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 1098,
        "y": 645,
        "wires": [
            [
                "56ca69cb.3d704",
                "bda94aec.1c9bd8",
                "e2f5235c.755c7"
            ]
        ]
    },
    {
        "id": "56ca69cb.3d704",
        "type": "ui_template",
        "z": "8c5f11d4.d0087",
        "group": "eceb2496.ca9fd8",
        "name": "touch1",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<table width=\"100%\">\n <tr><td>name</td><td>0</td><td>3</td><td>5</td><td>6</td></tr>\n <tr ng-repeat=\"(i, obj) in msg.payload\">\n   <td>{{obj.name}}</td>\n   <td>{{obj.touch0}}</td>\n   <td>{{obj.touch3}}</td>\n   <td>{{obj.touch5}}</td>\n   <td>{{obj.touch6}}</td>\n </tr>\n</table>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1253,
        "y": 634,
        "wires": [
            []
        ]
    },
    {
        "id": "aaaaf43d.5dc668",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "msg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1058,
        "y": 599,
        "wires": [
            [
                "80e68db8.1dea1",
                "4b224542.c6bcdc"
            ]
        ]
    },
    {
        "id": "4b224542.c6bcdc",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1248,
        "y": 578,
        "wires": []
    },
    {
        "id": "bda94aec.1c9bd8",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1283,
        "y": 681,
        "wires": []
    },
    {
        "id": "d2d1a2af.066ca8",
        "type": "subflow:e7cf18e0.b03f58",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [],
        "x": 77.5,
        "y": 1068,
        "wires": [
            [
                "98d7b2d4.84c548"
            ]
        ]
    },
    {
        "id": "98d7b2d4.84c548",
        "type": "delay",
        "z": "8c5f11d4.d0087",
        "name": "RFID-repeat filter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 272,
        "y": 1068,
        "wires": [
            [
                "74009e29.b74cc8"
            ]
        ]
    },
    {
        "id": "5eee7d96.9c206c",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 224.5,
        "y": 277,
        "wires": []
    },
    {
        "id": "617a995b.bede4",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 445,
        "y": 340,
        "wires": []
    },
    {
        "id": "f6ef04b1.13d1f",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 786,
        "y": 342,
        "wires": []
    },
    {
        "id": "3af2acf4.22b6f4",
        "type": "debug",
        "z": "56184bd3.61c48c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1030,
        "y": 135,
        "wires": []
    },
    {
        "id": "ed32c3a7.d83378",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "Get garden state from db",
        "collection": "entity_definitions",
        "operation": "find",
        "upsert": false,
        "multi": false,
        "x": 739,
        "y": 1063,
        "wires": [
            [
                "2eca26bc.69bd9a",
                "5f2492a8.0faecc"
            ]
        ]
    },
    {
        "id": "2eca26bc.69bd9a",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 933,
        "y": 1101,
        "wires": []
    },
    {
        "id": "c47c20a5.34d39",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 756,
        "y": 1122,
        "wires": []
    },
    {
        "id": "74009e29.b74cc8",
        "type": "change",
        "z": "8c5f11d4.d0087",
        "name": "set db query",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"name\":\"Gardenstate\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 479,
        "y": 1070,
        "wires": [
            [
                "ed32c3a7.d83378",
                "c47c20a5.34d39"
            ]
        ]
    },
    {
        "id": "5f2492a8.0faecc",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "Garden State Value Switch",
        "property": "payload[0].value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1004,
        "y": 1047,
        "wires": [
            [
                "c402c0c1.82e708",
                "3d69442a.46cb94"
            ],
            [
                "d69df5a6.2766b",
                "15648a61.d47576"
            ]
        ]
    },
    {
        "id": "d69df5a6.2766b",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].value",
        "targetType": "msg",
        "x": 1285,
        "y": 1052,
        "wires": []
    },
    {
        "id": "c402c0c1.82e708",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].value",
        "targetType": "msg",
        "x": 1268,
        "y": 898,
        "wires": []
    },
    {
        "id": "9fb6a45e.259768",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "update entity",
        "collection": "entity_definitions",
        "operation": "update",
        "upsert": false,
        "multi": false,
        "x": 1557,
        "y": 941,
        "wires": [
            [
                "37d78cf3.a954ec"
            ]
        ]
    },
    {
        "id": "37d78cf3.a954ec",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1708,
        "y": 939,
        "wires": []
    },
    {
        "id": "e611b005.4186c",
        "type": "mongodb-node",
        "z": "8c5f11d4.d0087",
        "mongodb": "788cee09.d64d1",
        "name": "update entity",
        "collection": "entity_definitions",
        "operation": "update",
        "upsert": false,
        "multi": false,
        "x": 1566,
        "y": 1104,
        "wires": [
            [
                "25110604.30d5a2"
            ]
        ]
    },
    {
        "id": "25110604.30d5a2",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1720,
        "y": 1104,
        "wires": []
    },
    {
        "id": "3d69442a.46cb94",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "Create update request (value 1)",
        "func": "// what we're storing\nvar updatedb = {\n    query: {\"name\": msg.topic}, \n    payload: { },\n    collection: \"entity_definitions\",\n    orig: msg.orig,\n}\nif (msg.payload.length > 0) {\n    updatedb.payload = msg.payload[0];\n    updatedb.query = {\"_id\": updatedb.payload._id};\n}\n\n//New value of gardenstate value\nupdatedb.payload.value = 1;\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 1323,
        "y": 943,
        "wires": [
            [
                "9fb6a45e.259768"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "15648a61.d47576",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "Create update request (value 0)",
        "func": "// what we're storing\nvar updatedb = {\n    query: {\"name\": msg.topic}, \n    payload: { },\n    collection: \"entity_definitions\",\n    orig: msg.orig,\n}\nif (msg.payload.length > 0) {\n    updatedb.payload = msg.payload[0];\n    updatedb.query = {\"_id\": updatedb.payload._id};\n}\n//New value of gardenstate value\nupdatedb.payload.value = 0;\n\nreturn updatedb;",
        "outputs": 1,
        "noerr": 0,
        "x": 1312,
        "y": 1102,
        "wires": [
            [
                "e611b005.4186c"
            ]
        ],
        "outputLabels": [
            "tagCount"
        ]
    },
    {
        "id": "e30c625b.086f8",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Basic RFID read for test",
        "info": "",
        "x": 394,
        "y": 1014,
        "wires": []
    },
    {
        "id": "5b98257a.25bd3c",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Gardenstate switch: gets gardenstate entity from db, switches on value",
        "info": "",
        "x": 807,
        "y": 992,
        "wires": []
    },
    {
        "id": "1cd5fb5.f29c685",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Basic db updates for testing, constructs query and updates gardenstate value",
        "info": "",
        "x": 1460,
        "y": 998,
        "wires": []
    },
    {
        "id": "640b11fe.51bad8",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (1)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 375,
        "y": 1284,
        "wires": [
            [
                "186a3947.cd2037"
            ]
        ]
    },
    {
        "id": "7ebf0526.5ade74",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "All centered",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "90",
        "payloadType": "num",
        "topic": "",
        "x": 154.5,
        "y": 1384,
        "wires": [
            [
                "640b11fe.51bad8",
                "96876757.cd2bf",
                "60912850.6c2cb8",
                "4b88b517.b3606c",
                "df9bd575.f46738",
                "78f3caa7.681cac"
            ]
        ]
    },
    {
        "id": "186a3947.cd2037",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 523,
        "y": 1283,
        "wires": [
            [
                "e61659d4.24feb"
            ]
        ]
    },
    {
        "id": "e61659d4.24feb",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd3d0/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 766.5,
        "y": 1281,
        "wires": []
    },
    {
        "id": "68ca37de.c6f0b",
        "type": "mqtt in",
        "z": "befd7418.87d0a8",
        "name": "",
        "topic": "AR/unity",
        "qos": "2",
        "datatype": "auto",
        "broker": "8f313a3c.9e2c2",
        "x": 236.5,
        "y": 151,
        "wires": [
            [
                "bbfd1987.2e2968"
            ]
        ]
    },
    {
        "id": "bbfd1987.2e2968",
        "type": "debug",
        "z": "befd7418.87d0a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 508.5,
        "y": 154,
        "wires": []
    },
    {
        "id": "5d654754.3ab978",
        "type": "http in",
        "z": "befd7418.87d0a8",
        "name": "",
        "url": "/ar/unity",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 240.5,
        "y": 254,
        "wires": [
            [
                "523dff67.bc3f4",
                "c3abba7f.e013f8",
                "70c73b55.0a57a4"
            ]
        ]
    },
    {
        "id": "523dff67.bc3f4",
        "type": "switch",
        "z": "befd7418.87d0a8",
        "name": "",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Tgt_ritualmap",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tgt_mirrorBox",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tgt_qrMarker",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 481.5,
        "y": 375,
        "wires": [
            [
                "af76748f.83518"
            ],
            [
                "4179283.390bdd8"
            ],
            [
                "1cb801ad.f6f6ee"
            ]
        ]
    },
    {
        "id": "c3abba7f.e013f8",
        "type": "mqtt out",
        "z": "befd7418.87d0a8",
        "name": "",
        "topic": "AR/unity",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 647.5,
        "y": 255,
        "wires": []
    },
    {
        "id": "262e0099.279e38",
        "type": "http request",
        "z": "befd7418.87d0a8",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": true,
        "url": "urlToUnity:8079",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 1057.5,
        "y": 259,
        "wires": [
            []
        ]
    },
    {
        "id": "a05d5618.55bec",
        "type": "comment",
        "z": "befd7418.87d0a8",
        "name": "Send get requests to unity \"url:8079/message\"",
        "info": "",
        "x": 1155,
        "y": 223,
        "wires": []
    },
    {
        "id": "af76748f.83518",
        "type": "switch",
        "z": "befd7418.87d0a8",
        "name": "",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Found",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Lost",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 682.5,
        "y": 409,
        "wires": [
            [
                "c71630a4.a81768"
            ],
            []
        ]
    },
    {
        "id": "4179283.390bdd8",
        "type": "switch",
        "z": "befd7418.87d0a8",
        "name": "",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Found",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Lost",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 672,
        "y": 469,
        "wires": [
            [
                "91ce6919.9e835"
            ],
            []
        ]
    },
    {
        "id": "1cb801ad.f6f6ee",
        "type": "switch",
        "z": "befd7418.87d0a8",
        "name": "",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Found",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Lost",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 666,
        "y": 562,
        "wires": [
            [
                "991ce07e.c2a78"
            ],
            []
        ]
    },
    {
        "id": "d9314edd.2da72",
        "type": "comment",
        "z": "befd7418.87d0a8",
        "name": "name - lost/found",
        "info": "",
        "x": 609,
        "y": 325,
        "wires": []
    },
    {
        "id": "c71630a4.a81768",
        "type": "debug",
        "z": "befd7418.87d0a8",
        "name": "Target found",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 871.5,
        "y": 363,
        "wires": []
    },
    {
        "id": "91ce6919.9e835",
        "type": "debug",
        "z": "befd7418.87d0a8",
        "name": "Target found",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 865.5,
        "y": 438,
        "wires": []
    },
    {
        "id": "991ce07e.c2a78",
        "type": "debug",
        "z": "befd7418.87d0a8",
        "name": "Target found",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 802.5,
        "y": 552,
        "wires": []
    },
    {
        "id": "70c73b55.0a57a4",
        "type": "debug",
        "z": "befd7418.87d0a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 751.5,
        "y": 186,
        "wires": []
    },
    {
        "id": "96876757.cd2bf",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (2)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 381,
        "y": 1352,
        "wires": [
            [
                "e6185a69.c3b348"
            ]
        ]
    },
    {
        "id": "e6185a69.c3b348",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 529,
        "y": 1351,
        "wires": [
            [
                "7238ef03.16cb58"
            ]
        ]
    },
    {
        "id": "7238ef03.16cb58",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd147/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 772.5,
        "y": 1349,
        "wires": []
    },
    {
        "id": "60912850.6c2cb8",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (3)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 375,
        "y": 1421,
        "wires": [
            [
                "6d553d46.e22a74"
            ]
        ]
    },
    {
        "id": "6d553d46.e22a74",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 523,
        "y": 1420,
        "wires": [
            [
                "158d7422.7e66dc"
            ]
        ]
    },
    {
        "id": "158d7422.7e66dc",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd2e5/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 766.5,
        "y": 1418,
        "wires": []
    },
    {
        "id": "4b88b517.b3606c",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (4)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 369,
        "y": 1496,
        "wires": [
            [
                "44f23f53.a30978"
            ]
        ]
    },
    {
        "id": "44f23f53.a30978",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 517,
        "y": 1495,
        "wires": [
            [
                "8dabfd56.baba78"
            ]
        ]
    },
    {
        "id": "8dabfd56.baba78",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd78/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 750.5,
        "y": 1493,
        "wires": []
    },
    {
        "id": "df9bd575.f46738",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (5)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 360,
        "y": 1578,
        "wires": [
            [
                "e632ecbf.7b451"
            ]
        ]
    },
    {
        "id": "e632ecbf.7b451",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 508,
        "y": 1577,
        "wires": [
            [
                "bdbe4bad.20dce"
            ]
        ]
    },
    {
        "id": "bdbe4bad.20dce",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd310/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 751.5,
        "y": 1575,
        "wires": []
    },
    {
        "id": "78f3caa7.681cac",
        "type": "ui_slider",
        "z": "8c5f11d4.d0087",
        "name": "",
        "label": "servo angle (6)",
        "tooltip": "",
        "group": "a3ce7655.c9a408",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "motorb",
        "min": "0",
        "max": "180",
        "step": 1,
        "x": 369,
        "y": 1659,
        "wires": [
            [
                "d0647d8f.bc5ff8"
            ]
        ]
    },
    {
        "id": "d0647d8f.bc5ff8",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 517,
        "y": 1658,
        "wires": [
            [
                "a219ffeb.464c7"
            ]
        ]
    },
    {
        "id": "a219ffeb.464c7",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "esp8266-4c11aedd798/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 760.5,
        "y": 1656,
        "wires": []
    },
    {
        "id": "9a7cdbd0.517bd8",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 595.5142288208008,
        "y": 1757.096477508545,
        "wires": []
    },
    {
        "id": "bd437516.c619a8",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "20202f7d.33c01",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "play node1",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"sound\":\"forest/bed monster memory.wav\"}",
        "payloadType": "json",
        "topic": "node1/audio/play",
        "x": 331.19883728027344,
        "y": 1758.059700012207,
        "wires": [
            [
                "9a7cdbd0.517bd8"
            ]
        ]
    },
    {
        "id": "b96141d4.9e2df8",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "20202f7d.33c01",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "play six",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"sound\":\"forest/bed monster memory.wav\"}",
        "payloadType": "json",
        "topic": "six/audio/play",
        "x": 763.0142211914062,
        "y": 1828.096435546875,
        "wires": [
            [
                "9a7cdbd0.517bd8"
            ]
        ]
    },
    {
        "id": "7daf87e3.09f058",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "20202f7d.33c01",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "play zero-1",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"sound\":\"forest/bed monster memory.wav\"}",
        "payloadType": "json",
        "topic": "zero-1/audio/play",
        "x": 334.01422119140625,
        "y": 1806.0964946746826,
        "wires": [
            [
                "9a7cdbd0.517bd8"
            ]
        ]
    },
    {
        "id": "d8b7c00e.fc4f",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "20202f7d.33c01",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "play zero-3",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"sound\":\"forest/bed monster memory.wav\"}",
        "payloadType": "json",
        "topic": "zero-3/audio/play",
        "x": 341.0142364501953,
        "y": 1891.0965127944946,
        "wires": [
            [
                "9a7cdbd0.517bd8"
            ]
        ]
    },
    {
        "id": "701c418e.13458",
        "type": "ui_button",
        "z": "8c5f11d4.d0087",
        "name": "",
        "group": "20202f7d.33c01",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "play two",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"sound\":\"forest/bed monster memory.wav\"}",
        "payloadType": "json",
        "topic": "two/audio/play",
        "x": 324.0142288208008,
        "y": 1847.0964269638062,
        "wires": [
            [
                "9a7cdbd0.517bd8"
            ]
        ]
    },
    {
        "id": "af30c038.54c128",
        "type": "subflow:e7cf18e0.b03f58",
        "z": "68a0bd35.560a84",
        "name": "",
        "env": [],
        "x": 200,
        "y": 292,
        "wires": [
            [
                "a67f46ea.dd27",
                "54f72a0f.305f5c"
            ]
        ]
    },
    {
        "id": "a67f46ea.dd27",
        "type": "debug",
        "z": "68a0bd35.560a84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.tag",
        "targetType": "msg",
        "x": 281.5,
        "y": 389,
        "wires": []
    },
    {
        "id": "23dd6fdf.620368",
        "type": "switch",
        "z": "68a0bd35.560a84",
        "name": "",
        "property": "payload.tag",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "73C5E8D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "E35ED4D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "531DEED1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "43D782D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "43B2EED1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "939882D1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "03F3DFD1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "73C4D6D1",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 556,
        "y": 293,
        "wires": [
            [
                "c3148cf8.196558",
                "2ee86cfa.26835c"
            ],
            [
                "abe39369.1e477",
                "2ee86cfa.26835c"
            ],
            [
                "64ba77a2.a41b78",
                "2ee86cfa.26835c"
            ],
            [
                "ee3ea664.149bc",
                "2ee86cfa.26835c"
            ],
            [
                "9bafefbb.e36ff"
            ],
            [
                "5dd4072f.25813"
            ],
            [
                "9f4eaf16.b787b8"
            ],
            [
                "ec940d22.f44a78"
            ]
        ]
    },
    {
        "id": "54f72a0f.305f5c",
        "type": "delay",
        "z": "68a0bd35.560a84",
        "name": "RFID-repeat filter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 383,
        "y": 293,
        "wires": [
            [
                "23dd6fdf.620368"
            ]
        ]
    },
    {
        "id": "2170cbcf.1d608c",
        "type": "debug",
        "z": "68a0bd35.560a84",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1824.5,
        "y": 510,
        "wires": []
    },
    {
        "id": "c3148cf8.196558",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Jar 17",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 1.1.wav"
            }
        ],
        "x": 914,
        "y": 337,
        "wires": []
    },
    {
        "id": "abe39369.1e477",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Jar 24",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 1.2.wav"
            }
        ],
        "x": 918,
        "y": 390,
        "wires": []
    },
    {
        "id": "64ba77a2.a41b78",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Jar 43",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 1.3.wav"
            }
        ],
        "x": 924,
        "y": 454,
        "wires": []
    },
    {
        "id": "ee3ea664.149bc",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Jar 112",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 1.4.wav"
            }
        ],
        "x": 934,
        "y": 508,
        "wires": []
    },
    {
        "id": "9bafefbb.e36ff",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 2.1.wav"
            }
        ],
        "x": 964,
        "y": 665,
        "wires": []
    },
    {
        "id": "5dd4072f.25813",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 2.2.wav"
            }
        ],
        "x": 961,
        "y": 719,
        "wires": []
    },
    {
        "id": "9f4eaf16.b787b8",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 2.3.wav"
            }
        ],
        "x": 963,
        "y": 771,
        "wires": []
    },
    {
        "id": "ec940d22.f44a78",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Coffee table 2.4.wav"
            }
        ],
        "x": 963,
        "y": 814,
        "wires": []
    },
    {
        "id": "e8a37f0e.16125",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "51",
        "info": "",
        "x": 1086.5,
        "y": 663,
        "wires": []
    },
    {
        "id": "a998ca62.3d08d",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "82",
        "info": "",
        "x": 1082,
        "y": 716,
        "wires": []
    },
    {
        "id": "4b3cd9cd.222be8",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "97",
        "info": "",
        "x": 1086,
        "y": 771,
        "wires": []
    },
    {
        "id": "f3dd0f59.d4ab6",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "112",
        "info": "",
        "x": 1084,
        "y": 819,
        "wires": []
    },
    {
        "id": "dd21aaa1.3df71",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "17",
        "info": "",
        "x": 1040,
        "y": 337,
        "wires": []
    },
    {
        "id": "7ca661c7.96e97",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "24",
        "info": "",
        "x": 1043,
        "y": 390,
        "wires": []
    },
    {
        "id": "4daf6f40.bbf008",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "43",
        "info": "",
        "x": 1049,
        "y": 455,
        "wires": []
    },
    {
        "id": "2a8de9f3.2bd86e",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "112",
        "info": "",
        "x": 1050,
        "y": 506,
        "wires": []
    },
    {
        "id": "39bde354.385a84",
        "type": "switch",
        "z": "68a0bd35.560a84",
        "name": "correct/incorrect",
        "property": "payload.correct",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1131.5,
        "y": 190,
        "wires": [
            [
                "79304e36.177fe",
                "233337a8.ccc5a"
            ],
            [
                "1758bfd3.2a50f"
            ]
        ]
    },
    {
        "id": "1758bfd3.2a50f",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Incorrect sequence, no flow here yet",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/monster_sounds/Monster23.mp3"
            }
        ],
        "x": 1551,
        "y": 60,
        "wires": []
    },
    {
        "id": "5aaa01d.6c15c8",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 439,
        "y": 533,
        "wires": []
    },
    {
        "id": "48f284e.5ad6a7c",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Touch Input for the Ticklish tree",
        "info": "",
        "x": 249,
        "y": 424,
        "wires": []
    },
    {
        "id": "fa2f4a64.eedd58",
        "type": "subflow:2e99692c.076a7e",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "six"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Tree Laugh 1.wav"
            }
        ],
        "x": 1311,
        "y": 416,
        "wires": []
    },
    {
        "id": "1a8f81f6.67dc96",
        "type": "subflow:2e99692c.076a7e",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "six"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/Tree humph 1.wav"
            }
        ],
        "x": 1318,
        "y": 461,
        "wires": []
    },
    {
        "id": "10845d7c.48d73b",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Tickle sound dependent on switch",
        "info": "",
        "x": 805,
        "y": 426,
        "wires": []
    },
    {
        "id": "fe28cc15.12106",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 528.5,
        "y": 411,
        "wires": [
            [
                "6e252090.b7c55"
            ]
        ]
    },
    {
        "id": "397b7bc4.e86694",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Speech Input for the shushing flower",
        "info": "",
        "x": 175,
        "y": 758,
        "wires": []
    },
    {
        "id": "3ff15baf.e3ea2c",
        "type": "subflow:2e99692c.076a7e",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/bed monster memory.wav"
            }
        ],
        "x": 1025,
        "y": 811,
        "wires": []
    },
    {
        "id": "a4ec3660.c31268",
        "type": "subflow:2e99692c.076a7e",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "two"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "/home/pi/garden_sounds/shush_lowered.wav"
            }
        ],
        "x": 1029,
        "y": 888,
        "wires": []
    },
    {
        "id": "3d92f43d.2c799c",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "sound dependent on switch",
        "info": "",
        "x": 612,
        "y": 793,
        "wires": []
    },
    {
        "id": "e8735451.8f6118",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger audio on two",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 853.5,
        "y": 760,
        "wires": [
            [
                "3ff15baf.e3ea2c"
            ]
        ]
    },
    {
        "id": "c06902c9.843e2",
        "type": "subflow:e4159f46.a12b",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [],
        "x": 100,
        "y": 861,
        "wires": [
            [
                "a01f9b3d.6a735",
                "51693ade.8f496c"
            ]
        ]
    },
    {
        "id": "2ee86cfa.26835c",
        "type": "function",
        "z": "68a0bd35.560a84",
        "name": "RFID jar puzzle (circular buffer)",
        "func": "// How many to scan\nvar tagNum = 4\n\n//Setup global memory\ncontext.data = context.data || {};\nif (!context.data.hasOwnProperty(\"jarSequenceBuffer\")) {\n    context.data.jarSequenceBuffer = [];\n}\n\n//Current scanned tags\nvar tagBuffer = context.data.jarSequenceBuffer;\n\n//Setup global memory\nif (!context.data.hasOwnProperty(\"jarScanCount\")) {\n    context.data.jarScanCount = 1;\n}\nelse{\n    context.data.jarScanCount = context.data.jarScanCount + 1\n}\n\n//How many have been scanned\nvar scanCnt = context.data.jarScanCount\n\n\n// Tag value\nvar tag = msg.payload.tag;\n\n//Reset puzzle bool\nvar reset = false;\n\n// Correct jars/tags\nvar jars = [\n    \"73C5E8D1\",\n    \"E35ED4D1\",\n    \"531DEED1\",\n    \"43D782D1\"\n    ];\n\n//If the tag buffer is full, remove the first element\nif((tagBuffer.length) > (tagNum -1)){\n    tagBuffer.shift();\n}\n\n\n//Add the scanned tag to the buffer\ntagBuffer.push(tag)\n\n// Check if our correct tags match the list in the buffer\nif(JSON.stringify(tagBuffer) == JSON.stringify(jars)){\n    msg.payload.correct = true;\n    reset = true\n}\n\n// Copy the values to output, so after reset the values can still be read\nmsg.payload.tagBuffer = JSON.parse(JSON.stringify(tagBuffer))\nmsg.payload.tagsRead = JSON.parse(JSON.stringify(scanCnt))\n\n\nif (msg.payload == \"RESET\")\n{\n    reset = true;\n}\n\n// If we need to reset te buffer\nif(reset){\n    context.data.jarSequenceBuffer = [];\n    context.data.jarScanCount = 0;\n    // msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 806,
        "y": 205,
        "wires": [
            [
                "39bde354.385a84"
            ]
        ]
    },
    {
        "id": "2972d132.0853f6",
        "type": "function",
        "z": "68a0bd35.560a84",
        "name": "RfidMultiLockWithJarSequence",
        "func": "context.data = context.data || {};\nvar reset = false;\nvar jars = [\n    \"73C5E8D1\",\n    \"E35ED4D1\",\n    \"531DEED1\",\n    \"43D782D1\"\n    ]\nif (!context.data.hasOwnProperty(\"jarSequence\")) {\n    context.data.jarSequence = [];\n}\n\nif (msg.payload == \"RESET\")\n{\n    reset = true;\n}\nswitch(msg.payload.tag) {\n    //17\n    case jars[0]:\n        if(context.data.tableRFID1 !== true) {\n            context.data.jarSequence.push(1);\n            context.data.tableRFID1 = true;\n        }\n        msg.payload = 0;\n        break;\n        //24\n    case jars[1]:\n        if(context.data.tableRFID2 !== true){\n            context.data.jarSequence.push(2);\n            context.data.tableRFID2 = true;\n        }\n        msg.payload = 0;\n        break;\n        //43\n    case jars[2]:\n        if(context.data.tableRFID3 !== true){\n            context.data.jarSequence.push(3);\n            context.data.tableRFID3 = true;\n        }\n        msg.payload = 0;\n        break;\n        //45\n    case jars[3]:\n        if(context.data.tableRFID4 !== true){\n            context.data.jarSequence.push(4);\n            context.data.tableRFID4 = true;\n        }\n        msg.payload = 0;\n        break;\n    default:\n        msg.payload = 0;\n        break;\n}\n\nmsg.jarSequence = context.data.jarSequence\n\nif (context.data.tableRFID1 === true && context.data.tableRFID2 === true && context.data.tableRFID3 === true && context.data.tableRFID4 === true) {\n    if (context.data.jarSequence[0] == 1 && context.data.jarSequence[1] == 2 && context.data.jarSequence[2] == 3 && context.data.jarSequence[3] == 4) {\n        msg.payload = \"correct\"\n    } else {\n        msg.payload = \"incorrect\"\n    }\n    context.data=null;\n} else {\n    msg.payload = 0;\n}\nif(reset){\n    context.data.jarSequence = [];\n    msg.payload = 0;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 385,
        "y": 109,
        "wires": [
            []
        ]
    },
    {
        "id": "79304e36.177fe",
        "type": "subflow:2e99692c.076a7e",
        "z": "68a0bd35.560a84",
        "name": "Correct sound",
        "env": [
            {
                "name": "node",
                "type": "str",
                "value": "node1"
            },
            {
                "name": "sound",
                "type": "str",
                "value": "forest/chimes_magical_bells_01.wav"
            }
        ],
        "x": 1701,
        "y": 201,
        "wires": []
    },
    {
        "id": "e52d6476.8ba27",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "Incorrect Jars",
        "info": "",
        "x": 986,
        "y": 629,
        "wires": []
    },
    {
        "id": "a332dff0.36ac7",
        "type": "comment",
        "z": "68a0bd35.560a84",
        "name": "Correct jars",
        "info": "",
        "x": 932,
        "y": 298,
        "wires": []
    },
    {
        "id": "7ceb654a.5b78cc",
        "type": "mqtt out",
        "z": "68a0bd35.560a84",
        "name": "",
        "topic": "all/neopixel/twinkle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1885,
        "y": 282,
        "wires": []
    },
    {
        "id": "e2f5235c.755c7",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "speed = 0;\nonspeed=62\nif (msg.payload[0].touch0 === true) {\n    speed = onspeed\n}\nif (msg.payload[0].touch3 === true) {\n    speed = onspeed\n}\nif (msg.payload[0].touch5 === true) {\n    speed = onspeed\n}\nif (msg.payload[0].touch7 === true) {\n    speed = onspeed\n}\n\nvar m = {\n    payload: {\n    motorb: speed,\n    from: \"func1\"\n    }\n};\nreturn m;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 997,
        "y": 704,
        "wires": [
            [
                "bda94aec.1c9bd8",
                "6e524c09.1ce23c",
                "1f46caa.fdf31b5",
                "1ebdbc92.6d4173"
            ]
        ]
    },
    {
        "id": "1f46caa.fdf31b5",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "all/motor/speed",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1292,
        "y": 758,
        "wires": []
    },
    {
        "id": "6e524c09.1ce23c",
        "type": "trigger",
        "z": "8c5f11d4.d0087",
        "op1": "1",
        "op2": "{\"motorb\":0,\"trigger\":\"true\"}",
        "op1type": "str",
        "op2type": "json",
        "duration": "5",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1086.5,
        "y": 760,
        "wires": [
            [
                "1f46caa.fdf31b5"
            ]
        ]
    },
    {
        "id": "150ccae3.09bfcd",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger audio on two",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 811,
        "y": 916,
        "wires": [
            [
                "a4ec3660.c31268"
            ]
        ]
    },
    {
        "id": "ad2336e9.004558",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger shush flow",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 332,
        "y": 795,
        "wires": [
            [
                "1224ca9e.4f4c95"
            ]
        ]
    },
    {
        "id": "233337a8.ccc5a",
        "type": "function",
        "z": "68a0bd35.560a84",
        "name": "",
        "func": "global.set('puzzle-solved',true);\n\n\nmsg = {\n    \"payload\": {\n\"r`\": 126,\n\"g\": 47,\n\"b\": 118,\n\"a\": 1,\n\"operation\": \"setrgb\"\n}\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1458.5,
        "y": 279,
        "wires": [
            [
                "79304e36.177fe",
                "2170cbcf.1d608c",
                "7ceb654a.5b78cc"
            ]
        ]
    },
    {
        "id": "f82918e1.1182b8",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "",
        "property": "puzzle-solved",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620.5,
        "y": 98,
        "wires": [
            [
                "e4f31077.c17f48"
            ]
        ]
    },
    {
        "id": "b086c1fe.13c6f",
        "type": "ui_button",
        "z": "68a0bd35.560a84",
        "name": "",
        "group": "ce6dc5f2.b84948",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "puzzle-solved (blue)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 1292.5,
        "y": 287,
        "wires": [
            [
                "233337a8.ccc5a"
            ]
        ]
    },
    {
        "id": "4565f389.c1a414",
        "type": "function",
        "z": "68a0bd35.560a84",
        "name": "",
        "func": "global.set('puzzle-solved',false);\n\n\nmsg = {\n    \"payload\": {\n\"r`\": 12,\n\"g\": 123,\n\"b\": 12,\n\"a\": 1,\n\"operation\": \"setrgb\"\n}\n};\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1473,
        "y": 344,
        "wires": [
            [
                "2170cbcf.1d608c",
                "7ceb654a.5b78cc"
            ]
        ]
    },
    {
        "id": "94a42310.05c5a",
        "type": "ui_button",
        "z": "68a0bd35.560a84",
        "name": "",
        "group": "ce6dc5f2.b84948",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "puzzle-reset (green)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 1299,
        "y": 352,
        "wires": [
            [
                "4565f389.c1a414"
            ]
        ]
    },
    {
        "id": "12dd8527.d24a73",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1063,
        "y": 136,
        "wires": []
    },
    {
        "id": "14c3ab70.d5076d",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 464,
        "y": 97,
        "wires": [
            [
                "f82918e1.1182b8"
            ]
        ]
    },
    {
        "id": "a01f9b3d.6a735",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "speech host",
        "property": "payload.host",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "two",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 282,
        "y": 858,
        "wires": [
            [
                "1224ca9e.4f4c95"
            ]
        ]
    },
    {
        "id": "51693ade.8f496c",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 274,
        "y": 896,
        "wires": []
    },
    {
        "id": "1224ca9e.4f4c95",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "",
        "property": "puzzle-solved",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 465,
        "y": 857,
        "wires": [
            [
                "936bb19c.42e7b"
            ],
            [
                "a4ec3660.c31268"
            ]
        ]
    },
    {
        "id": "6e252090.b7c55",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "",
        "property": "puzzle-solved",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1161,
        "y": 435,
        "wires": [
            [
                "fa2f4a64.eedd58"
            ],
            [
                "1a8f81f6.67dc96"
            ]
        ]
    },
    {
        "id": "2f3b2109.da2666",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "Speech Input for the flower bed",
        "info": "",
        "x": 201,
        "y": 2023,
        "wires": []
    },
    {
        "id": "17827a07.87549e",
        "type": "comment",
        "z": "8c5f11d4.d0087",
        "name": "stay open if keep talking",
        "info": "",
        "x": 669,
        "y": 2067,
        "wires": []
    },
    {
        "id": "6e920f70.9bccd8",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger flowers up (110)",
        "topic": "",
        "payload": "110",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 974.5,
        "y": 2006,
        "wires": [
            [
                "9263546.d459928"
            ]
        ]
    },
    {
        "id": "5423a5dc.0923e4",
        "type": "subflow:e4159f46.a12b",
        "z": "8c5f11d4.d0087",
        "name": "",
        "env": [],
        "x": 136,
        "y": 2126,
        "wires": [
            [
                "fd4ccf24.3f0398",
                "99e94f07.d3ae"
            ]
        ]
    },
    {
        "id": "be11697e.db0418",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger flowers  (45)",
        "topic": "",
        "payload": "70",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 973,
        "y": 2215,
        "wires": [
            [
                "9263546.d459928"
            ]
        ]
    },
    {
        "id": "77fd102b.00c668",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger flower bed",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 305,
        "y": 2074,
        "wires": [
            [
                "195d06ac.a0f421"
            ]
        ]
    },
    {
        "id": "fd4ccf24.3f0398",
        "type": "switch",
        "z": "8c5f11d4.d0087",
        "name": "speech host",
        "property": "payload.host",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "twotwo",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 318,
        "y": 2123,
        "wires": [
            [
                "195d06ac.a0f421"
            ]
        ]
    },
    {
        "id": "99e94f07.d3ae",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 310,
        "y": 2161,
        "wires": []
    },
    {
        "id": "2c32cca0.d7f1cc",
        "type": "mqtt out",
        "z": "8c5f11d4.d0087",
        "name": "",
        "topic": "all/servo/angle",
        "qos": "",
        "retain": "",
        "broker": "8f313a3c.9e2c2",
        "x": 1348,
        "y": 2035,
        "wires": []
    },
    {
        "id": "195d06ac.a0f421",
        "type": "trigger",
        "z": "8c5f11d4.d0087",
        "op1": "45",
        "op2": "90",
        "op1type": "num",
        "op2type": "num",
        "duration": "2",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 754.5,
        "y": 2124,
        "wires": [
            [
                "dc4a3ecc.ac7d",
                "9263546.d459928"
            ]
        ]
    },
    {
        "id": "dc4a3ecc.ac7d",
        "type": "debug",
        "z": "8c5f11d4.d0087",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 899,
        "y": 2169,
        "wires": []
    },
    {
        "id": "18b2753d.8f88fb",
        "type": "inject",
        "z": "8c5f11d4.d0087",
        "name": "trigger flowers  (90)",
        "topic": "",
        "payload": "90",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 948,
        "y": 2068,
        "wires": [
            [
                "9263546.d459928"
            ]
        ]
    },
    {
        "id": "9263546.d459928",
        "type": "function",
        "z": "8c5f11d4.d0087",
        "name": "",
        "func": "var m = {\n    payload: {\n    angle: msg.payload\n    }\n};\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "x": 1196,
        "y": 2035,
        "wires": [
            [
                "2c32cca0.d7f1cc"
            ]
        ]
    },
    {
        "id": "936bb19c.42e7b",
        "type": "delay",
        "z": "8c5f11d4.d0087",
        "name": "Speech repeat filter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 736,
        "y": 841,
        "wires": [
            [
                "3ff15baf.e3ea2c"
            ]
        ]
    },
    {
        "id": "1ebdbc92.6d4173",
        "type": "delay",
        "z": "8c5f11d4.d0087",
        "name": "Speech repeat filter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "4",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 1089,
        "y": 489,
        "wires": [
            [
                "6e252090.b7c55"
            ]
        ]
    }
]